(function(){"use strict";var e={1557:function(e,t,n){var l={};n.r(l),n.d(l,{select:function(){return dt},selectOption:function(){return ft},selectedFormat:function(){return mt},selectedMenu:function(){return yt},selectedOrientation:function(){return pt},selectedPDF_orientation:function(){return ht}});var a={};n.r(a),n.d(a,{loading:function(){return xn},toggleLoading:function(){return wn}});var o=n(9242),s=n(3396);const c={class:"app"},r={class:"content"};function i(e,t,n,l,a,o){const i=(0,s.up)("content-constructs"),u=(0,s.up)("content-sidebar");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",r,[(0,s.Wm)(i,{checkbox:l.checkbox},null,8,["checkbox"]),(0,s.Wm)(u,{pdf:l.switchFormat()},null,8,["pdf"])])])}const u={class:"constructs"};function d(e,t,n,l,a,c){const r=(0,s.up)("content-params"),i=(0,s.up)("content-load"),d=(0,s.up)("element-list");return(0,s.wg)(),(0,s.iD)("div",u,[(0,s.Wm)(r),(0,s.Wm)(d,{class:"report-elements h-full",style:{"max-height":"calc(100vh - 151px)"}},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(i,null,null,512),[[o.F8,l.loading]])])),_:1})])}var m=n(7139);const p={key:0,class:"group"},h={key:0,class:"group__title group-bg flex items-center"},y=(0,s._)("span",{class:"w-full cursor-pointer handle"},"Группа",-1),f=["onClick"],g={key:1,class:"group__title group-bg flex items-center"},b={class:"w-full cursor-pointer handle"},v=["for"],x=["onUpdate:modelValue"],w=["for"],_=["onUpdate:modelValue"],k=["onClick"],E={class:"absolute hidden left-3 bottom-1.5 text-red-500",style:{"font-size":"14px"}};function O(e,t,n,l,a,c){const r=(0,s.up)("element-item"),i=(0,s.up)("vuedraggable");return(0,s.wg)(),(0,s.j4)(i,{group:"todosapp",class:"accs",list:l.getReportCopy(),move:c.checkMove,animation:"250",handle:".handle"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.getReportCopy(),(([e,t])=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},["GROUP"===e.name?((0,s.wg)(),(0,s.iD)("div",p,["powerpoint"!=l.selectedFormat()?((0,s.wg)(),(0,s.iD)("div",h,[y,(0,s._)("button",{class:"remove-element",onClick:t=>l.removeGroup(e.id)}," Разгруппировать ",8,f)])):((0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("span",b,[(0,s._)("label",{for:"project-"+e.id,style:{color:"#eaeaea"}},[(0,s.Uk)(" Проект: "),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t=>e.projectName=t,class:"group-input",style:{width:"300px"}},null,8,x),[[o.nr,e.projectName]])],8,v),(0,s._)("label",{for:"number-"+e.id,style:{color:"#eaeaea"}},[(0,s.Uk)(" его номер: "),(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":t=>e.projectId=t,class:"group-input",style:{width:"70px"}},null,8,_),[[o.nr,e.projectId]])],8,w)]),(0,s._)("button",{class:"remove-element",onClick:t=>l.removeProject(e.id)}," Удалить ",8,k)])),(0,s.Wm)(i,{group:"todosapp",class:(0,m.C_)(["group__body group-bg pos-r",e.id]),list:t.elements,move:c.checkMoveFromGroup,animation:"250",handle:".handle"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.elements,(([e,t])=>((0,s.wg)(),(0,s.j4)(r,{key:e.id,keyObject:e,value:t},null,8,["keyObject","value"])))),128)),(0,s._)("div",E,(0,m.zw)(e.error),1)])),_:2},1032,["class","list","move"])])):((0,s.wg)(),(0,s.j4)(r,{key:1,keyObject:e,value:t},null,8,["keyObject","value"]))])))),128)),(0,s.WI)(e.$slots,"default")])),_:3},8,["list","move"])}const j={class:"acc2"},S=(0,s._)("i",{class:"fa-solid fa-grip-lines handle",style:{background:"rgb(53, 126, 189)"}},null,-1),C=["data-name"],L={class:"acc"},D=(0,s._)("span",{class:"remove-element"},"Удалить",-1),P=[D];function q(e,t,n,l,a,o){const c=(0,s.up)("next-element-list");return(0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",{class:(0,m.C_)(["acc2__title",{"table-element":"table"==n.keyObject.type}])},[S,(0,s._)("span",{class:(0,m.C_)("table"!=n.keyObject.type?n.keyObject.type:""),"data-name":n.keyObject.name},(0,m.zw)(n.keyObject.ru),11,C),(0,s._)("i",{onClick:t[0]||(t[0]=(...e)=>l.toggleNextElementList&&l.toggleNextElementList(...e)),class:"fa-solid fa-angle-right",style:{background:"rgb(53, 126, 189)"}})],2),(0,s.Wm)(c,{nextElements:n.value,onShowOptions:l.toggleNextElementOptions},{default:(0,s.w5)((()=>[(0,s._)("div",L,[(0,s._)("div",{class:"acc__title-copy",onClick:t[1]||(t[1]=e=>l.removeElement(n.keyObject.name,n.keyObject.id))},P)])])),_:1},8,["nextElements","onShowOptions"])])}const N={class:"acc2__content flex w-0"};function U(e,t,n,l,a,o){const c=(0,s.up)("number-option"),r=(0,s.up)("checkbox-option"),i=(0,s.up)("select-index-option"),u=(0,s.up)("select-type-option"),d=(0,s.up)("columns-option"),m=(0,s.up)("dropdown-tag-option"),p=(0,s.up)("dropdown-order-option");return(0,s.wg)(),(0,s.iD)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElements,(a=>((0,s.wg)(),(0,s.iD)(s.HY,{key:a},["number"==a.type?((0,s.wg)(),(0,s.j4)(c,{key:0,nextElement:a,onUpdateNumber:o.updateNumber,onUpdateLength:o.updateLength,onShowOptions:t[0]||(t[0]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateNumber","onUpdateLength"])):"checkbox"==a.type?((0,s.wg)(),(0,s.j4)(r,{key:1,nextElement:a,onUpdateCheckbox:o.updateCheckbox},null,8,["nextElement","onUpdateCheckbox"])):"select"==a.type&&a.outputIndex?((0,s.wg)(),(0,s.j4)(i,{key:2,nextElement:a,onUpdateSelect:o.select,onShowOptions:t[1]||(t[1]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateSelect"])):"select"==a.type&&"type"==a.name?((0,s.wg)(),(0,s.j4)(u,{key:3,nextElement:a,onUpdateSelect:o.select,onUpdateCheck:o.check,onShowOptions:t[2]||(t[2]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateSelect","onUpdateCheck"])):"columns"==a.type?((0,s.wg)(),(0,s.j4)(d,{key:4,nextElement:a,onShowOptions:t[3]||(t[3]=t=>e.$emit("show-options",t)),onShowColumnOptions:o.select,table:"word"!=l.selectedFormat()||n.nextElements[0].value},null,8,["nextElement","onShowColumnOptions","table"])):"tag_highlight"==a.name&&"dropdown"==a.type?((0,s.wg)(),(0,s.j4)(m,{key:5,nextElement:a,onShowOptions:t[4]||(t[4]=t=>e.$emit("show-options",t))},null,8,["nextElement"])):"order"==a.name&&"dropdown"==a.type?((0,s.wg)(),(0,s.j4)(p,{key:6,nextElement:a,onUpdateSelect:o.select,onShowOptions:t[5]||(t[5]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateSelect"])):(0,s.kq)("",!0)],64)))),128)),(0,s.WI)(e.$slots,"default")])}const I={class:"acc"},F=["value","checked"],H={class:"acc__content"},R={class:"acc__item"},$=["type","value","min","max"];function z(e,t,n,l,a,c){return(0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",{class:"acc__title",onClick:t[1]||(t[1]=t=>e.$emit("show-options",t))},[(0,s._)("span",{class:(0,m.C_)({gray:"text_length"==n.nextElement.name&&!n.nextElement.selected}),style:{display:"flex","align-items":"center"}},[(0,s.Uk)((0,m.zw)(n.nextElement.ru)+" ",1),"text_length"==n.nextElement.name?((0,s.wg)(),(0,s.iD)("input",{key:0,type:"checkbox",onChange:t[0]||(t[0]=t=>e.$emit("update-length",n.nextElement,t.target.value)),value:n.nextElement.selected,checked:n.nextElement.selected,style:{"margin-top":"-1px","margin-left":"6px"}},null,40,F)):(0,s.kq)("",!0)],2)]),(0,s.wy)((0,s._)("div",H,[(0,s._)("div",R,[(0,s._)("input",{class:"acc-number bg-transparent appearance-none",style:{width:"50px"},type:n.nextElement.type,onInput:t[2]||(t[2]=t=>e.$emit("update-number",n.nextElement,t.target.value)),value:n.nextElement.value,min:n.nextElement.min,max:n.nextElement.max},null,40,$)])],512),[[o.F8,"text_length"!=n.nextElement.name||"text_length"==n.nextElement.name&&n.nextElement.selected]])])}var W={name:"number-option",props:{nextElement:{required:!0}}},T=n(89);const M=(0,T.Z)(W,[["render",z]]);var Y=M;const J={class:"acc"},A=(0,s._)("div",{class:"acc__content"},null,-1);function K(e,t,n,l,a,o){return(0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("update-checkbox",n.nextElement,!n.nextElement.value))},[(0,s._)("span",{class:(0,m.C_)({gray:!n.nextElement.value})},(0,m.zw)(n.nextElement.ru),3)]),A])}var Z={name:"checkbox-option",props:{nextElement:{required:!0}}};const V=(0,T.Z)(Z,[["render",K]]);var G=V;const B={class:"acc ref_content"},Q={class:"acc__content"},X=["onClick"];function ee(e,t,n,l,a,o){return(0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,s._)("span",null,(0,m.zw)(n.nextElement.ru),1)]),(0,s._)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElement.value,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,m.C_)(["acc__item",{gray:!t.selected}]),key:t,onClick:l=>e.$emit("update-select",n.nextElement.value,t.name,!0)},(0,m.zw)(t.name),11,X)))),128))])])}var te={name:"select-index-option",props:{nextElement:{required:!0}}};const ne=(0,T.Z)(te,[["render",ee]]);var le=ne;const ae={class:"acc ref_content"},oe={class:"acc__content"},se=["onClick"],ce={class:"flex items-center"},re=(0,s._)("i",{class:"fa-solid fa-angle-right w-full flex justify-end pl-1"},null,-1),ie={key:0,class:"pos-a"},ue=["onClick"],de={class:"w-full text-left mr-1"},me=["onChange","checked","value"];function pe(e,t,n,l,a,o){return(0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,s._)("span",null,(0,m.zw)(n.nextElement.ru),1)]),(0,s._)("div",oe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElement.value,(([t,l])=>((0,s.wg)(),(0,s.iD)("div",{class:(0,m.C_)(["acc__item pos-r",{gray:!t.selected}]),key:t,onClick:l=>e.$emit("update-select",n.nextElement.value,t.name)},[(0,s._)("span",ce,[(0,s.Uk)((0,m.zw)(t.ru)+" ",1),re]),t.selected?((0,s.wg)(),(0,s.iD)("div",ie,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.entries(l),(([t,n])=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,m.C_)(["acc__item flex justify-start items-center",{gray:!n}]),onClick:e=>l[t]=!n},[(0,s._)("span",de,(0,m.zw)(a.keyNames[t]),1),(0,s._)("input",{type:"checkbox",onChange:t=>e.$emit("update-check",n,t.target.value),checked:n,value:n,style:(0,m.j5)({})},null,44,me)],10,ue)))),128))])):(0,s.kq)("",!0)],10,se)))),128))])])}var he={name:"select-type-option",data(){return{keyNames:{data_labels:"Метрики данных",labels:"Метрики"}}},props:{nextElement:{required:!0}}};const ye=(0,T.Z)(he,[["render",pe]]);var fe=ye;const ge={class:"acc ref_content"},be={class:"acc__content"},ve={class:"acc__item pos-r bg-transparent"},xe={class:"pos-a flex columns"},we=["onClick"],_e={class:"w-full text-left"},ke=["onUpdate:modelValue"],Ee=["onUpdate:modelValue"],Oe={key:1,class:"acc__item m-0"},je=["onUpdate:modelValue"];function Se(e,t,n,l,a,c){const r=(0,s.up)("vuedraggable");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ge,[(0,s._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,s._)("span",null,(0,m.zw)(n.nextElement.ru),1)]),(0,s._)("div",be,[(0,s._)("div",ve,[(0,s._)("div",xe,[(0,s.Wm)(r,{list:n.nextElement.value,class:"flex",animation:"250"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElement.value,(l=>((0,s.wg)(),(0,s.iD)("div",{key:l},["hide"!=l.selected?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,m.C_)(["acc__item mr-1 pos-r",{gray:!l.selected}]),style:{"min-width":"110px","justify-content":"start",display:"flex","align-items":"center"},onClick:t=>e.$emit("show-column-options",n.nextElement.value,l.name,!0,"showParams")},[(0,s._)("span",_e,[(0,s._)("i",{class:"fa-solid fa-grip-lines handle mr-1",style:(0,m.j5)({transform:"rotate(90deg)"})},null,4),(0,s.Uk)((0,m.zw)(l.ru),1)]),"default"!=l.selected?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"checkbox",class:"ml-1",style:{"margin-top":"1px"},"onUpdate:modelValue":e=>l.selected=e},null,8,ke)),[[o.e8,l.selected]]):(0,s.kq)("",!0),l.selected&&l.showParams?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"pos-a pl-0 w-full",style:{top:"100%",left:"0","padding-top":"4px"},onClick:t[1]||(t[1]=(0,o.iM)((()=>{}),["stop"]))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.params,(e=>((0,s.wg)(),(0,s.iD)(s.HY,{key:e.name},["checkbox"==e.type?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,m.C_)(["acc__item mb-0.5 flex",{gray:!e.selected}])},[(0,s._)("span",null,(0,m.zw)(a.paramKeys[e.name]),1),(0,s.wy)((0,s._)("input",{type:"checkbox",style:{"margin-top":0,"margin-left":"auto"},"onUpdate:modelValue":t=>e.selected=t},null,8,Ee),[[o.e8,e.selected]])],2)):(0,s.kq)("",!0),"color"==e.type?((0,s.wg)(),(0,s.iD)("div",Oe,[(0,s.wy)((0,s._)("input",{type:"color",class:"w-full","onUpdate:modelValue":t=>e.value=t,style:{height:"22px",background:"transparent"}},null,8,je),[[o.nr,e.value]])])):(0,s.kq)("",!0)],64)))),128))])):(0,s.kq)("",!0)],10,we)):(0,s.kq)("",!0)])))),128))])),_:1},8,["list"])])])])],512)),[[o.F8,n.nextElement.name==c.isTable]])}var Ce=n(8249),Le={name:"columns-option",components:{vuedraggable:Ce.J},data(){return{paramKeys:{bold:"Жирность",italic:"Курсив",underline:"Подчеркнуть"}}},props:{nextElement:{required:!0},table:{required:!0}},computed:{isTable(){return this.table?"columns":"list_rows"}}};const De=(0,T.Z)(Le,[["render",Se]]);var Pe=De;const qe={class:"acc"},Ne={class:"acc__content"},Ue=["onClick"],Ie={key:1,class:"acc__item pos-r p-0"},Fe=["onClick"],He=(0,s._)("i",{class:"fa-solid fa-angle-right w-full flex justify-end pl-1"},null,-1),Re={class:"pos-a"},$e={class:"acc__item"},ze=["onUpdate:modelValue"];function We(e,t,n,l,a,c){return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,s._)("span",null,(0,m.zw)(n.nextElement.ru),1)]),(0,s._)("div",Ne,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElement.value,(e=>((0,s.wg)(),(0,s.iD)(s.HY,{key:e},["checkbox"==e.type?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,m.C_)(["acc__item",{gray:!e.value}]),onClick:t=>e.value=!e.value},(0,m.zw)(e.ru),11,Ue)):"color"==e.type?((0,s.wg)(),(0,s.iD)("div",Ie,[(0,s._)("span",{class:"flex px-2 items-center",onClick:t=>e.show=!e.show},[(0,s.Uk)((0,m.zw)(e.ru)+" ",1),He],8,Fe),(0,s.wy)((0,s._)("div",Re,[(0,s._)("div",$e,[(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t=>e.value=t,style:{height:"22px",background:"transparent"}},null,8,ze),[[o.nr,e.value]])])],512),[[o.F8,e.show]])])):(0,s.kq)("",!0)],64)))),128))])])}var Te={name:"dropdown-tag-option",props:{nextElement:{required:!0}}};const Me=(0,T.Z)(Te,[["render",We]]);var Ye=Me;const Je={class:"acc ref_content"},Ae={class:"acc__content"},Ke={key:0,class:"acc__item pos-r p-0"},Ze=["onClick"],Ve=(0,s._)("i",{class:"fa-solid fa-angle-right absolute right-1.5 top-1"},null,-1),Ge={key:0,class:"pos-a"},Be=["onClick"],Qe={key:0,class:"acc__item pos-r p-0 on-hover"},Xe=["onClick"],et=(0,s._)("i",{class:"fa-solid fa-grip-lines -translate-x-1"},null,-1),tt=["onUpdate:modelValue","onClick"],nt={key:0,class:"pos-a"},lt=["onClick"],at=(0,s._)("i",{class:"fa-solid fa-grip-lines -translate-x-1"},null,-1),ot=["onUpdate:modelValue"];function st(e,t,n,l,a,c){const r=(0,s.up)("vuedraggable");return(0,s.wg)(),(0,s.iD)("div",Je,[(0,s._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,s._)("span",null,(0,m.zw)(n.nextElement.ru),1)]),(0,s._)("div",Ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElement.value,(([t,n])=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t},["select"==t.type?((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s._)("span",{class:"flex justify-center",onClick:e=>t.selected=!t.selected},[(0,s.Uk)((0,m.zw)(t.ru)+" ",1),Ve],8,Ze),t.selected?((0,s.wg)(),(0,s.iD)("div",Ge,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,m.C_)(["acc__item",{gray:!t.selected}]),onClick:l=>e.$emit("update-select",n,t.name,!0)},(0,m.zw)(t.ru),11,Be)))),128))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128)),(0,s.Wm)(r,{list:n.nextElement.draggables,animation:"250"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.nextElement.draggables,(([e,t])=>((0,s.wg)(),(0,s.iD)(s.HY,{key:e.name},["draggable"==e.type?((0,s.wg)(),(0,s.iD)("div",Qe,[(0,s._)("span",{class:(0,m.C_)(["flex justify-center items-center h-full px-2",{gray:!e.selected}]),onClick:t=>e.showResources=!e.showResources},[et,(0,s.Uk)(" "+(0,m.zw)(e.ru)+" ",1),(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t,style:{"margin-top":"-1px","margin-left":"5px"},onClick:t=>e.selected=!e.selected},null,8,tt),[[o.e8,e.selected]])],10,Xe),e.selected&&e.showResources?((0,s.wg)(),(0,s.iD)("div",nt,[(0,s.Wm)(r,{list:t,animation:"250"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,m.C_)(["acc__item flex justify-between items-center h-full",{gray:!e.selected}]),onClick:t=>e.selected=!e.selected},[at,(0,s.Uk)(" "+(0,m.zw)(e.ru??e.name)+" ",1),(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t,style:(0,m.j5)({transform:"translate(3px, -2px)"})},null,12,ot),[[o.e8,e.selected]])],10,lt)))),128))])),_:2},1032,["list"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])),_:1},8,["list"])])])}var ct={name:"dropdown-order-option",components:{vuedraggable:Ce.J},props:{nextElement:{required:!0}}};const rt=(0,T.Z)(ct,[["render",st]]);var it=rt,ut=n(4870);let dt={format:(0,ut.qj)((0,ut.iH)({width:112.4,options:[{name:"WORD",value:"word",iconClass:"fa-regular fa-file-word",selected:!1},{name:"PDF",value:"pdf",iconClass:"fa-regular fa-file-pdf",selected:!0},{name:"Excel",value:"excel",iconClass:"fa-regular fa-file-excel",selected:!1},{name:"PowerPoint",value:"powerpoint",iconClass:"fa-regular fa-file-powerpoint",selected:!1}]})),orientation:(0,ut.qj)((0,ut.iH)({width:86.4,options:[{name:"Портрет",value:"portrait",selected:!1},{name:"Пейзаж",value:"landscape",selected:!0}]})),pdf_orientation:(0,ut.qj)((0,ut.iH)({width:86.4,options:[{name:"Портрет",value:"portrait",selected:!0},{name:"Пейзаж",value:"landscape",selected:!1}]})),menu:(0,ut.qj)((0,ut.iH)({width:86.4,options:[{name:"Проект",value:"project",selected:!1},{name:"Шаблон",value:"template",selected:!0}]}))};function mt(){return dt.format.value.options.find((e=>e.selected))?.value}function pt(){return dt.orientation.value.options.find((e=>e.selected))?.value}function ht(){return dt.pdf_orientation.value.options.find((e=>e.selected))?.value}function yt(){return dt.menu.value.options.find((e=>e.selected))?.value}function ft(e,t){dt[e].value.options.forEach((e=>{e.selected=e.name==t}))}var gt={components:{NumberOption:Y,CheckboxOption:G,SelectIndexOption:le,SelectTypeOption:fe,ColumnsOption:Pe,DropdownTagOption:Ye,DropdownOrderOption:it},props:{nextElements:{required:!1}},methods:{select(e,t,n=!1,l="selected"){e.forEach((e=>{n?e[l]=e.name==t:e[0][l]=e[0].name==t}))},updateCheckbox(e,t){e.value=t},updateNumber(e,t){e.value=t},check(e,t){!this.stringToBoolean(t)},updateLength(e,t){e.selected=!this.stringToBoolean(t)},stringToBoolean(e){return"true"===e||"false"!==e&&void 0}},mounted(){let e=document.querySelectorAll(".table-element");e.forEach((e=>{let t=e.nextElementSibling.querySelectorAll(".pos-a.flex.columns");t.forEach((t=>{let n=0;"word"==this.selectedFormat()&&(n=35),t.style.left=-(e.clientWidth+n)+"px"}))}))},setup(){return{selectedFormat:mt}}};const bt=(0,T.Z)(gt,[["render",U]]);var vt=bt;function xt(e){let t=document.querySelectorAll(".acc__title");t.forEach((t=>{let n=t.nextElementSibling,l=t.nextElementSibling.style;t!=e&&(l.height=l.padding="0px",n.classList.remove("open"),n.classList.add("afterHide"),setTimeout((()=>{n.classList.remove("afterHide")}),400))}))}function wt(e){let t=document.querySelectorAll(".acc2__title");t.forEach((t=>{let n=t.nextElementSibling.style;t.nextElementSibling.classList.remove("f-w"),t.nextElementSibling.setAttribute("data-width","100%"),t!=e&&(n.width=n.padding="0px",t.nextElementSibling.classList.remove("open"),t.nextElementSibling.classList.add("afterHide"),setTimeout((()=>{t.nextElementSibling.classList.remove("afterHide")}),400))}))}function _t(e){let t=e.target.parentElement,n=document.querySelectorAll(".acc2__title");n.forEach((e=>{let n=e.nextElementSibling.style;if(wt(t),e==t)if(wt(t),xt(t),e.nextElementSibling.classList.contains("open"))e.nextElementSibling.classList.remove("f-w"),n.width=n.padding="0px",e.nextElementSibling.classList.remove("open"),e.nextElementSibling.classList.add("afterHide"),setTimeout((()=>{e.nextElementSibling.classList.remove("afterHide")}),400);else{n.width=e.nextElementSibling.getAttribute("data-width");let t=getComputedStyle(document.documentElement).getPropertyValue("--acc-padding");n.padding=t,n.boxSizing="content-box",e.nextElementSibling.addEventListener("transitionend",(()=>{e.nextElementSibling.classList.contains("afterHide")||(e.nextElementSibling.classList.add("open"),e.nextElementSibling.classList.add("f-w"))}))}}))}function kt(e){let t=e&&e.target.parentElement,n=document.querySelectorAll(".acc__title");n.forEach((e=>{let n=e.nextElementSibling.style;n.height=n.paddingTop=n.paddingBottom="0px",e==t&&(e.parentElement.classList.contains("ref_content")&&(n.width=e.offsetWidth+"px"),e.nextElementSibling.classList.contains("open")?(n.height=n.paddingTop=n.paddingBottom="0px",e.nextElementSibling.classList.remove("open"),e.nextElementSibling.classList.add("afterHide"),setTimeout((()=>{e.nextElementSibling.classList.remove("afterHide")}),400)):(xt(t),n.height=e.nextElementSibling.scrollHeight+"px",n.paddingTop=n.paddingBottom="0px",e.nextElementSibling.addEventListener("transitionend",(()=>{e.nextElementSibling.classList.contains("afterHide")||e.nextElementSibling.classList.add("open")}))))}))}var Et={toggleNextElementList:_t,toggleNextElementOptions:kt};n(7658);let Ot=(0,ut.qj)((0,ut.iH)({word:[],pdf:[],excel:[],powerpoint:[]}));function jt(){return Ot.value[mt()]}function St(e,t,n=!0){console.log(e);let l=document.querySelector("#"+e);l.getAttribute("data-name")==t&&(n?l.classList.add("gray"):l.classList.remove("gray"))}function Ct(e,t,n,l){let a=jt(),o=new Promise((function(a,o){const s=JSON.parse(JSON.stringify(e));let c=s.find((e=>e[0].name==t)),r=document.querySelectorAll(".acc2__title span"),i=!1;if(0!==r.length)for(const e of r)e.getAttribute("data-name")!=t||n||(i=!0);i?o(`${t} уже добавлен!`):(n&&(c[0].id+=l,console.log(c[0].id)),a(c))}));o.then((e=>{a.push(e);let t=a.find((t=>t[0].name==e[0].name))[0].name;"GROUP"===e[0].name||n||St(e[0].id,t)})).catch((e=>{console.error(e)}))}function Lt(e,t){const n="powerpoint"==mt();let l=jt();for(const a of l){let o=l;"GROUP"==a[0].name&&a[1].elements&&(o=a[1].elements);let s=o.find((e=>e[0].id==t));if(s&&s[0].id){const l=o.findIndex((e=>e[0].id==t));if(-1!=l)return o.splice(l,1),void(n||St(s[0].id,e,!1))}}}var Dt={components:{NextElementList:vt},props:{keyObject:{required:!0},value:{required:!0}},setup(){const{toggleNextElementList:e,toggleNextElementOptions:t}=Et;return{selectedFormat:mt,removeElement:Lt,toggleNextElementList:e,toggleNextElementOptions:t}}};const Pt=(0,T.Z)(Dt,[["render",q]]);var qt=Pt;function Nt(e=!0){let t=document.querySelector(".add-group");e?t.classList.add("gray"):t.classList.remove("gray")}function Ut(){let e=jt(),t=e.filter((e=>"GROUP"==e[0].name)).length;const n=5,l=e.filter((e=>"graph"==e[0].type)).length;t<n&&l>0?(e.push([{id:`group-${t+1}`,name:"GROUP",error:"Должно быть два элемента."},{elements:[]}]),t++):0===l&&alert("Добавьте график."),t===n&&Nt(!0)}function It(e){let t=jt();const n=t.find((t=>t[0].id==e)),l=t.findIndex((t=>t[0].id==e)),a=n[1].elements;t.splice(l,1,...a),Nt(!1)}function Ft(){let e=jt(),t=e.filter((e=>"GROUP"==e[0].name)).length,n=e.find((e=>0==e[1].elements?.length));n?document.querySelector(`.group-${t}`).querySelector(".absolute").classList.toggle("hidden"):(e.push([{id:`group-${t+1}`,name:"GROUP",projectId:"",projectName:"",error:"Не менее одного элемента в проекте."},{elements:[]}]),t++)}function Ht(e){let t=jt();const n=t.find((t=>t[0].id==e)),l=t.findIndex((t=>t[0].id==e)),a=n[1].elements;t.splice(l,1,...a)}var Rt={components:{ElementItem:qt,vuedraggable:Ce.J},methods:{checkMove(e){if(e.dragged.firstChild.classList.contains("group")&&e.to.classList.contains("group__body"))return!1;if(e.from.classList.contains("accs")&&e.to.classList.contains("group__body")&&"powerpoint"!=this.selectedFormat()){let t=e.to;return console.log(e.dragged.querySelector(".acc2 .acc2__title span").classList.contains("graph")),!!e.dragged.querySelector(".acc2 .acc2__title span").classList.contains("graph")&&t.children.length<3}},checkMoveFromGroup(e){if(e.from.classList.contains("group__body")&&e.to.classList.contains("group__body")&&"powerpoint"!=this.selectedFormat()){let t=e.from,n=e.to;return t==n||n.children.length<3}}},setup(){return{selectedFormat:mt,getReportCopy:jt,removeGroup:It,removeProject:Ht}}};const $t=(0,T.Z)(Rt,[["render",O]]);var zt=$t;const Wt={class:"params"},Tt={type:"text",placeholder:"Название Шаблона...",class:"pl-4 w-full",id:"constructor-name"},Mt={type:"text",placeholder:"Имя проекта...",class:"pl-4 w-full",id:"project-name"};function Yt(e,t,n,l,a,c){const r=(0,s.up)("my-checkbox"),i=(0,s.up)("select-params");return(0,s.wg)(),(0,s.iD)("div",Wt,[(0,s.wy)((0,s._)("input",Tt,null,512),[[o.F8,"template"==l.selectedMenu()]]),(0,s.wy)((0,s._)("input",Mt,null,512),[[o.F8,"project"==l.selectedMenu()]]),(0,s.wy)((0,s.Wm)(r,{param:"merge_cells"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Объединить ячейки ")])),_:1},512),[[o.F8,"project"==l.selectedMenu()&&"excel"==l.selectedFormat()]]),(0,s.wy)((0,s.Wm)(r,{param:"content"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Оглавление ")])),_:1},512),[[o.F8,"project"==l.selectedMenu()&&"powerpoint"==l.selectedFormat()]]),(0,s.wy)((0,s.Wm)(r,{param:"full_page_title"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Титульник ")])),_:1},512),[[o.F8,"project"==l.selectedMenu()&&"word"==l.selectedFormat()]]),(0,s.wy)((0,s.Wm)(i,{options:l.format.options,selectWidth:l.format.width,onSelectOption:l.selectOption},null,8,["options","selectWidth","onSelectOption"]),[[o.F8,"template"==l.selectedMenu()]]),(0,s.wy)((0,s.Wm)(i,{options:l.orientation.options,arrayName:"orientation",selectWidth:l.orientation.width,onSelectOption:l.selectOption},null,8,["options","selectWidth","onSelectOption"]),[[o.F8,"project"==l.selectedMenu()&&"word"==l.selectedFormat()]]),(0,s.wy)((0,s.Wm)(i,{options:l.pdf_orientation.options,arrayName:"pdf_orientation",selectWidth:l.pdf_orientation.width,onSelectOption:l.selectOption},null,8,["options","selectWidth","onSelectOption"]),[[o.F8,"project"==l.selectedMenu()&&"pdf"==l.selectedFormat()]]),(0,s.Wm)(i,{options:l.menu.options,arrayName:"menu",selectWidth:l.menu.width,onSelectOption:l.selectOption},null,8,["options","selectWidth","onSelectOption"])])}const Jt={style:{"padding-top":"4px"}},At=["onClick"],Kt=(0,s._)("span",null,null,-1),Zt=(0,s._)("ul",null,null,-1),Vt=(0,s._)("i",{class:"fa fa-angle-down"},null,-1);function Gt(e,t,n,l,a,c){return(0,s.wg)(),(0,s.iD)("div",{class:"select bg-white cursor-pointer",onMouseleave:t[2]||(t[2]=(...e)=>c.hideOptions&&c.hideOptions(...e)),onClick:t[3]||(t[3]=(...e)=>c.showOptions&&c.showOptions(...e))},[(0,s._)("div",{class:"select-default h-full flex justify-start items-center pl-3 pr-5",style:(0,m.j5)({width:n.selectWidth+"px"})},(0,m.zw)(c.selectedOptionName),5),(0,s._)("div",{class:"select-offset h-1 w-full",onClick:t[0]||(t[0]=(0,o.iM)((()=>{}),["stop"]))}),(0,s._)("div",Jt,[(0,s._)("div",{class:"select-options",style:(0,m.j5)({width:n.selectWidth+"px"}),onClick:t[1]||(t[1]=(0,o.iM)((()=>{}),["stop"]))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.options,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,m.C_)(["w-full pl-3 pr-5",{selected:t.selected}]),key:t,onClick:l=>e.$emit("select-option",n.arrayName,t.name)},[t.iconClass?((0,s.wg)(),(0,s.iD)("i",{key:0,class:(0,m.C_)([t.iconClass,"mr-2"]),style:{"fonst-size":"14px"}},null,2)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,m.zw)(t.name),1)],10,At)))),128)),Kt,Zt],4)]),Vt],32)}var Bt={props:{arrayName:{type:String,required:!1,default:"format"},options:{type:Array,required:!0},selectWidth:{type:Number,required:!0}},computed:{selectedOptionName(){return this.options.find((e=>e.selected)).name}},methods:{showOptions(e){e.target.classList.contains("select")?e.target.querySelector(" .select-options").style.display="block":e.target.parentElement.querySelector(".select-options").style.display="block"},hideOptions(e){e.target.querySelector(" .select-options").style.display="none"}}};const Qt=(0,T.Z)(Bt,[["render",Gt]]);var Xt=Qt;const en={class:"abc-checkbox-circlle flex items-center bg-white",style:{height:"36px","border-radius":"4px","font-size":"10pt",padding:"0 9px"}},tn=["id"],nn=["for"];function ln(e,t,n,l,a,c){return(0,s.wg)(),(0,s.iD)("div",en,[(0,s.wy)((0,s._)("input",{type:"checkbox",id:n.param,"onUpdate:modelValue":t[0]||(t[0]=e=>l.checkbox[n.param]=e),style:{"margin-top":"0","margin-right":"6px"}},null,8,tn),[[o.e8,l.checkbox[n.param]]]),(0,s._)("label",{class:"font-normal whitespace-nowrap mb-0",for:n.param},[(0,s.WI)(e.$slots,"default")],8,nn)])}let an=(0,ut.qj)((0,ut.iH)({content:!0,full_page_title:!0,merge_cells:!1}));function on(e,t){an.value[e]=t}var sn={setup(){return{checkbox:an}},props:{param:{type:String,required:!0}}};const cn=(0,T.Z)(sn,[["render",ln]]);var rn=cn,un={setup(){let{select:{format:e,orientation:t,pdf_orientation:n,menu:a},selectedFormat:o,selectedMenu:s,selectOption:c}=l;return{format:e,orientation:t,pdf_orientation:n,menu:a,selectOption:c,selectedMenu:s,selectedFormat:o}},components:{SelectParams:Xt,MyCheckbox:rn},computed:{}};const dn=(0,T.Z)(un,[["render",Yt],["__scopeId","data-v-13ac43e8"]]);var mn=dn;const pn={class:"bg-gray-blur"},hn=(0,s._)("div",{class:"lds-roller"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1),yn=[hn];function fn(e,t,n,l,a,o){return(0,s.wg)(),(0,s.iD)("div",pn,yn)}var gn={};const bn=(0,T.Z)(gn,[["render",fn]]);var vn=bn;let xn=(0,ut.qj)((0,ut.iH)(!1));function wn(){xn.value=!xn.value}var _n={components:{ElementList:zt,ContentParams:mn,ContentLoad:vn},setup(){const{loading:e}=a;return{loading:e}}};const kn=(0,T.Z)(_n,[["render",d]]);var En=kn;const On={class:"sidebar flex flex-col"};function jn(e,t,n,l,a,o){const c=(0,s.up)("sidebar-menu"),r=(0,s.up)("sidebar-button");return(0,s.wg)(),(0,s.iD)("div",On,[(0,s.Wm)(c,{pdf:n.pdf},null,8,["pdf"]),(0,s.Wm)(r,{pdf:n.pdf},null,8,["pdf"])])}const Sn={class:"sidebar-menu w-full"},Cn={key:0,class:"sidebar__group"},Ln={class:"f-w-500 title_newprojects block__header"},Dn=["id","onClick","data-name"];function Pn(e,t,n,l,a,o){return(0,s.wg)(),(0,s.iD)("div",Sn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.typeArray,(([e,c])=>((0,s.wg)(),(0,s.iD)(s.HY,{key:e},[c.length>0?((0,s.wg)(),(0,s.iD)("div",Cn,[(0,s._)("h3",Ln,(0,m.zw)(a.groupNames[e]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e[0],class:"element",id:e[0].id,onClick:t=>(l.addElement(n.pdf,e[0].name,o.isPowerPoint,a.newId),a.newId++),"data-name":e[0].name},(0,m.zw)(e[0].ru),9,Dn)))),128)),"Графики"==a.groupNames[e]&&o.isPDF?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"element text-center add-group",onClick:t[0]||(t[0]=e=>l.addGroup())}," Группа ")):"Проект"==a.groupNames[e]&&o.isPowerPoint?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"element text-center add-group",onClick:t[1]||(t[1]=e=>l.addProject())}," Проект ")):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])}var qn={props:{pdf:{required:!0}},setup(){return{selectedFormat:mt,addElement:Ct,addGroup:Ut,addProject:Ft}},data(){return{groupNames:{default:"Общее",graph:"Графики",map:"Карты",table:"Таблицы",project:"Проект"},newId:0}},computed:{typeArray(){const e={default:this.defaultList,graph:this.graphList,map:this.mapList,table:this.tableList,project:this.projectList};return Object.entries(e)},defaultList(){return this.pdf.filter((e=>"default"==e[0].type))},graphList(){return this.pdf.filter((e=>"graph"==e[0].type))},mapList(){return this.pdf.filter((e=>"map"==e[0].type))},tableList(){return this.pdf.filter((e=>"table"==e[0].type))},projectList(){return this.pdf.filter((e=>"project"==e[0].type))},isPDF(){return"pdf"==this.selectedFormat()},isPowerPoint(){return"powerpoint"==this.selectedFormat()}}};const Nn=(0,T.Z)(qn,[["render",Pn],["__scopeId","data-v-03f780b8"]]);var Un=Nn;const In={class:"sidebar-buttons w-full flex flex-col"},Fn=["disabled"],Hn=["disabled"];function Rn(e,t,n,l,a,o){return(0,s.wg)(),(0,s.iD)("div",In,[(0,s._)("button",{disabled:l.loading,onClick:t[0]||(t[0]=e=>l.downloadReport())},"Скачать",8,Fn),(0,s._)("button",{disabled:l.loading,onClick:t[1]||(t[1]=e=>l.saveTemplate())},"Сохранить шаблон",8,Hn)])}var $n=n(6265),zn=n.n($n);function Wn(e,t,n){if("number"===t.type){let l=parseInt(t.value);l=l.limitation(t.min,t.max),"text_length"!=t.name||t.selected||(l=0),e[n][t.name]=l}}function Tn(e,t,n){"select"===t.type&&t.outputIndex&&t.value.forEach((l=>{l.selected&&(e[n][t.name]=l.index)}))}function Mn(e,t,n){"select"===t.type&&"type"===t.name&&t.value.forEach((l=>{l[0].selected&&(e[n][t.name]=l[0].name,Object.keys(l[1]).forEach((t=>{console.log(l[1]),e[n][t]=l[1][t]})))}))}function Yn(e,t,n){"checkbox"===t.type&&(console.log(e,t,n),e[n],e[n]?e[n][t.name]=t.value:e[n-1][t.name]=t.value)}function Jn(e,t,n,l){if("columns"===t.type){e[n][t.name]=[];let a=0;t.value.forEach(((o,s)=>{let c=0;o.selected?c=s+1-a:o.selected||(c=0,a++),e[n][t.name].push({id:o.name,position:c}),console.log("true true"),o.params&&o.params.forEach((a=>{"checkbox"==a.type?e[n][t.name][s][a.name]=a.selected:"color"==a.type&&(e[n][t.name][s]["color"]="pdf"==l?a.value:a.value.split("#")[1])}))}))}}function An(e,t,n,l){"dropdown"===t.type&&"tag_highlight"===t.name&&(e[n][t.name]={},t.value.forEach((a=>{let o=a.value;"color"==a.type&&"pdf"!=l&&(console.log(a.value),o=a.value.indexOf("#")>-1?a.value.split("#")[1]:a.value),e[n][t.name][a.name]=o})))}function Kn(e,t,n){if("dropdown"===t.type&&"order"===t.name){switch(e[n][t.name]={},t.value.forEach((l=>{"select"===l[0].type&&l[0].outputIndex&&l[1].forEach((a=>{a.selected&&(e[n][t.name][l[0].name]=a.index)}))})),t.draggables[0][0].name){case"sentiments":e[n][t.name]["predominantly"]=0;break;case"categories":e[n][t.name]["predominantly"]=1;break;default:break}t.draggables.forEach((l=>{e[n][t.name][l[0].name]=[],l[0].selected?"sentiments"===l[0].name?l[1].forEach(((a,o)=>{let s=o+1;a.selected||(s=0),e[n][t.name][l[0].name].splice(a.defaultPosition,0,s)})):"categories"===l[0].name&&l[1].forEach((a=>{a.selected&&e[n][t.name][l[0].name].push(a.name)})):e[n][t.name][l[0].name]=0}))}}function Zn(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/.*\?/,"").split("&");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}return e}function Vn(e){let t=document.querySelectorAll(".group__body");return t.forEach((t=>{let n=t.querySelector(".absolute");if("powerpoint"!=e&&t.children.length<3||1==t.children.length)return n.classList.contains("hidden")&&n.classList.remove("hidden"),!0;n.classList.contains("hidden")||n.classList.add("hidden")})),!1}function Gn(e){let t=!1;if("powerpoint"!=e)return t;let n=document.querySelectorAll(".group__title");return n.forEach((e=>{let n=e.querySelectorAll("input");n&&n.forEach((e=>{0==e.value.length?(e.classList.add("input-error"),t=!0):e.classList.remove("input-error")}))})),t}function Bn(){let e=document.querySelector("#project-name").value;return""!=e?e:"Мой Шаблон"}function Qn(){let e=mt(),t=jt();if(Vn(e))return;if(Gn(e))return;let n=JSON.parse(JSON.stringify(t)),l=[],a=0;n.forEach((([t,n],o)=>{"GROUP"!==t.name&&"powerpoint"!=e?(l.push({id:t.name,position:o+1}),n.length&&n.forEach((t=>{Yn(l,t,a),Wn(l,t,a),Mn(l,t,a),Tn(l,t,a),Jn(l,t,a,e),An(l,t,a,e),Kn(l,t,a)})),a++):n.elements.length&&("powerpoint"==e?(l.push({position:`${o+1}`,elements:[],projectName:t.projectName,projectId:t.projectId}),a=0,n.elements.forEach((([t,n],s)=>{l[o].elements.push({id:t.name,position:`${s+1}`}),n.length&&(a++,n.forEach((t=>{Yn(l[o].elements,t,a),Wn(l[o].elements,t,a),Mn(l[o].elements,t,a),Tn(l[o].elements,t,a),Jn(l[o].elements,t,a,e),An(l[o].elements,t,a,e),Kn(l[o].elements,t,a)})))}))):n.elements.forEach((([t,n],s)=>{l.push({id:t.name,position:`${o+1}_${s+1}`}),n.length&&(n.forEach((t=>{Yn(l,t,a),Wn(l,t,a),Mn(l,t,a),Tn(l,t,a),Jn(l,t,a,e),An(l,t,a,e),Kn(l,t,a)})),a++)})))}));let o=Zn();return l.push({id:"template_settings",font_size:10,font_name:"Arial",orientation:pt(),pdf_orientation:ht(),content:an.value.content,full_page_title:an.value.full_page_title,merge_cells:an.value.merge_cells,title:Bn()}),Object.assign(l[l.length-1],o),l[l.length-1]["format"]=e+"_"+el(),l[l.length-1]["position"]=0,l[l.length-1]["position"]=l[l.length-1]["position"]?0:l[l.length-1]["position"],console.log(l),{request:l,formatName:e}}function Xn(e){switch(console.log(e),e){case"ru":return"rus";case"en":return"eng";case"kz":return"kaz"}}function el(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/\?.*/,"").split("//").join("").split("/");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}let l=Object.keys(e)[1];return Xn(l)}function tl(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/.*\?/,"").split("&");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}return e}function nl(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/\?.*/,"").split("//").join("").split("/");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}let l=Object.keys(e)[1];return ll(l)}function ll(e){switch(e){case"ru":return"rus";case"en":return"eng";case"kz":return"kaz"}}function al(e){return void 0!=e?`(${JSON.stringify(e).slice(1,-1)})`:e}function ol(){let e=document.querySelector("#constructor-name").value;return""!=e?e:"Мой Конструктор"}function sl(){let{request:e,formatName:t}=Qn(),n=t;var l=tl(),a=ol(),o=nl();let s=JSON.parse(JSON.stringify([...e]));s.forEach((e=>{let t=Object.keys(e);t.forEach((t=>{if("boolean"==typeof e[t])e[t]=""+e[t];else if("number"==typeof e[t])e[t]=""+e[t];else if("columns"===t||"list_rows"===t||"elements"===t)for(let n=0;n<e[t].length;n++){const l=e[t][n];let a=Object.keys(l);for(let e=0;e<a.length;e++){const t=a[e];"boolean"==typeof l[t]?l[t]=""+l[t]:"number"==typeof l[t]&&("position"==t&&console.log(t,l[t]),l[t]=""+l[t],"position"==t&&console.log(t,l[t]))}}else if("object"==typeof e[t]){let n=Object.keys(e[t]);for(let l=0;l<n.length;l++){const a=n[l];("boolean"==typeof e[t][a]||"number"==typeof e[t][a])&&(e[t][a]=""+e[t][a])}}})),t.forEach((t=>{if("columns"===t||"list_rows"===t||"elements"===t)e[t]=al(e[t]);else if("order"===t){let n=Object.keys(e[t]);for(let l=0;l<n.length;l++){const a=n[l];let o=JSON.stringify(e[t][a]);-1!=o.indexOf("[")&&-1!=o.indexOf("]")?e[t][a]=al(e[t][a]):("boolean"==typeof e[t][a]||"number"==typeof e[t][a])&&(e[t][a]=""+e[t][a])}}}))})),console.log("postRequest",s),console.log("JSON.stringify(postRequest)",JSON.stringify(s));let c="addreport",r={name:a,format:n,lang:o,token:l.token,json:JSON.stringify(s)};l.constructorId&&(c="updatereport",r={id:l.constructorId,user_id:l.user_id,name:a,format:n,lang:o,token:l.token,json:JSON.stringify(s)}),wn(),zn()({method:"post",url:`https://cabinet322.imas.kz/ru/reports/${c}`,data:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}}).then((e=>{console.log("saveTemplate status:",e.status,e)})).then((function(){wn()})).catch((function(e){console.log("error",e),wn()}))}Number.prototype.limitation=function(e,t){return isNaN(this)||this<e?e:this>t?t:this};const cl=function(){let{request:e,formatName:t}=Qn();wn(),zn()({method:"post",url:"https://export.imas.kz/constructor",responseType:"arraybuffer",data:e}).then((function(e){const n={word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:e.headers["content-type"],excel:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",powerpoint:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},l={word:"docx",pdf:"pdf",excel:"xlsx",powerpoint:"pptx"};let a=new Blob([e.data],{type:n[t]}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.download=`Export_iMAS_${rl(new Date)}.${l[t]}`,o.click()})).then((function(){wn()})).catch((function(e){console.log(e),wn()}))};function rl(e){function t(e){return String(e).padStart(2,"0")}const n=new Date,l=t(n.getHours())+"-"+t(n.getMinutes());return`${e.toISOString().slice(0,10)}_${l}`}var il={props:{pdf:{required:!0}},setup(){return{downloadReport:cl,saveTemplate:sl,selectedFormat:mt,loading:xn}}};const ul=(0,T.Z)(il,[["render",Rn]]);var dl=ul,ml={props:{pdf:{required:!0}},components:{SidebarMenu:Un,SidebarButton:dl}};const pl=(0,T.Z)(ml,[["render",jn],["__scopeId","data-v-7ffadc8e"]]);var hl=pl;function yl(){const e=new Map;function t(e){let t=new Map;return e(t),t}return e.set({id:"element-1",name:"tags",ru:"Теги",type:"default"},[]).set({id:"element-2",name:"contents",ru:"Оглавление",type:"default"},[{name:"smi",ru:"СМИ",type:"number",min:0,max:50,value:0},{name:"soc",ru:"Соцсети",type:"number",min:0,max:50,value:0},{name:"table",ru:"Таблица",type:"checkbox",value:!1}]).set({id:"element-3",name:"smi",ru:"СМИ",type:"table"},[{name:"table",ru:"Таблица",type:"checkbox",value:!1},{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"list_rows",ru:"Список строк",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"italic",ru:"Курсив",type:"checkbox",value:!1},{name:"underline",ru:"Подчеркнуть",type:"checkbox",value:!1},{name:"color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категория",type:"draggable",showResources:!1,selected:!1},[{name:"Государственные источники",selected:!0},{name:"Информационные агентства",selected:!0},{name:"Региональные источники",selected:!0},{name:"Электронные СМИ",selected:!0},{name:"Специализированные",selected:!0},{name:"Зарубежные источники",selected:!0},{name:"Государственные закупки",selected:!0},{name:"LiveJournal",selected:!0},{name:"Печатные СМИ",selected:!0},{name:"Телевидение",selected:!0},{name:"Радио",selected:!0},{name:"Агрегаторы СМИ",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]).set({id:"element-4",name:"soc",ru:"Социальные сети",type:"table"},[{name:"table",ru:"Таблица",type:"checkbox",value:!0},{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"list_rows",ru:"Список строк",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"italic",ru:"Курсив",type:"checkbox",value:!0},{name:"underline",ru:"Подчеркнуть",type:"checkbox",value:!0},{name:"color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категория",type:"draggable",showResources:!1,selected:!1},[{name:"Вконтакте",selected:!0},{name:"Facebook",selected:!0},{name:"Twitter",selected:!0},{name:"Instagram",selected:!0},{name:"LinkedIn",selected:!0},{name:"Youtube",selected:!0},{name:"Одноклассники",selected:!0},{name:"Мой_Мир",selected:!0},{name:"Telegram",selected:!0},{name:"TikTok",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]),(0,ut.qj)((0,ut.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function fl(){const e=new Map;function t(e){let t=new Map;return e(t),t}return e.set({id:"element-1",name:"tags",ru:"Теги",type:"default"},[]).set({id:"element-2",name:"period",ru:"Период",type:"default"},[{name:"format",ru:"Формат",type:"select",outputIndex:!0,value:[{name:"День-Месяц-Год",index:0,selected:!0},{name:"День-Месяц-Год Час:Мин",index:1,selected:!1}]}]).set({id:"element-3",name:"count",ru:"Общее количество сообщений",type:"default"},[]).set({id:"element-4",name:"message_dynamic",ru:"Динамика сообщений",type:"default"},[]).set({id:"element-5",name:"sentiments",ru:"Тональность сообщений",type:"graph"},[{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0,labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-6",name:"distribution",ru:"Распределение по СМИ, Соцсети",type:"graph"},[{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0,labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-7",name:"smi_distribution",ru:"Распределение по категориям источников в СМИ",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:10},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-8",name:"soc_distribution",ru:"Распределение по соцсетям",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:10},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-9",name:"media_top",ru:"Самые активные источники в СМИ",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-10",name:"soc_top",ru:"Самые активные источники в Соцсетях",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-11",name:"most_popular_soc",ru:"Самые активные источники в соцсети",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-12",name:"top_negative",ru:"Топ негативных источников",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-13",name:"smi_top_negative",ru:"Топ негативных источников по СМИ",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-14",name:"soc_top_negative",ru:"Топ негативных источников по Соц.сетям",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-15",name:"world_map",ru:"Активность источников по регионам",type:"map"},[{name:"length",ru:"Длина",type:"number",min:0,max:44,value:44},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-16",name:"kaz_map",ru:"Активность источников по РК",type:"map"},[{name:"length",ru:"Длина",type:"number",min:0,max:44,value:44},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-17",name:"smi_table",ru:"СМИ",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0},{name:"category",ru:"Категория",selected:!0},{name:"resource",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"datetime_format",ru:"Формат даты и времени",type:"select",outputIndex:!0,value:[{name:"День-Месяц-Год",index:0,selected:!0},{name:"День-Месяц-Год Час:Мин",index:1,selected:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",showResources:!1,selected:!1},[{name:"Государственные источники",selected:!0},{name:"Информационные агентства",selected:!0},{name:"Региональные источники",selected:!0},{name:"Электронные СМИ",selected:!0},{name:"Специализированные",selected:!0},{name:"Зарубежные источники",selected:!0},{name:"Государственные закупки",selected:!0},{name:"LiveJournal",selected:!0},{name:"Печатные СМИ",selected:!0},{name:"Телевидение",selected:!0},{name:"Радио",selected:!0},{name:"Агрегаторы СМИ",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]).set({id:"element-18",name:"soc_table",ru:"Социальные сети",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0},{name:"resource",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"datetime_format",ru:"Формат даты и времени",type:"select",outputIndex:!0,value:[{name:"День-Месяц-Год",index:0,selected:!0},{name:"День-Месяц-Год Час:Мин",index:1,selected:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",showResources:!1,selected:!1},[{name:"Вконтакте",selected:!0},{name:"Facebook",selected:!0},{name:"Twitter",selected:!0},{name:"Instagram",selected:!0},{name:"LinkedIn",selected:!0},{name:"Youtube",selected:!0},{name:"Одноклассники",selected:!0},{name:"Мой_Мир",selected:!0},{name:"Telegram",selected:!0},{name:"TikTok",selected:!0}])}))]},{name:"text_length",selected:!0,min:70,max:500,type:"number",value:400}]),(0,ut.qj)((0,ut.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function gl(){const e=new Map;function t(e){let t=new Map;return e(t),t}return e.set({id:"element-1",name:"tags",ru:"Теги",type:"default"},[]).set({id:"element-2",name:"category",ru:"Категория",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:10},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-3",name:"sentiments",ru:"Тональность сообщений",type:"graph"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-4",name:"resources",ru:"Ресурсы",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:10},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-5",name:"dates",ru:"Даты",type:"graph"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-6",name:"smi_table",ru:"СМИ",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0},{name:"content",ru:"Краткое",selected:"default"},{name:"date",ru:"Дата",selected:!0},{name:"resource",ru:"Источник",selected:!0},{name:"resource_link",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка",selected:!0},{name:"category",ru:"Категория",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#dcdcdc",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",showResources:!1,selected:!1},[{name:"Государственные источники",selected:!0},{name:"Информационные агентства",selected:!0},{name:"Региональные источники",selected:!0},{name:"Электронные СМИ",selected:!0},{name:"Специализированные",selected:!0},{name:"Зарубежные источники",selected:!0},{name:"Государственные закупки",selected:!0},{name:"LiveJournal",selected:!0},{name:"Печатные СМИ",selected:!0},{name:"Телевидение",selected:!0},{name:"Радио",selected:!0},{name:"Агрегаторы СМИ",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]).set({id:"element-7",name:"soc_table",ru:"Социальные сети",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"resource",ru:"Источник",selected:!0},{name:"date",ru:"Дата",selected:!0},{name:"category",ru:"Категория",selected:!0},{name:"resource_link",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка новостей",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#dcdcdc",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",selected:!1},[{name:"Вконтакте",selected:!0},{name:"Facebook",selected:!0},{name:"Twitter",selected:!0},{name:"Instagram",selected:!0},{name:"LinkedIn",selected:!0},{name:"Youtube",selected:!0},{name:"Одноклассники",selected:!0},{name:"Мой_Мир",selected:!0},{name:"Telegram",selected:!0},{name:"TikTok",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]),(0,ut.qj)((0,ut.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function bl(){const e=new Map;return e.set({id:"element-1",name:"presentation",ru:"Презентация",type:"project"},[{name:"window_count",ru:"Количество окон",type:"number",min:0,max:6,value:4}]).set({id:"element-2",name:"distribution",ru:"Распределение",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-3",name:"activity_1",ru:"Активность 1",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-4",name:"activity_2",ru:"Активность 2",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-5",name:"activity_3",ru:"Активность 3",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]),(0,ut.qj)((0,ut.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function vl(){const e={word:yl(),pdf:fl(),excel:gl(),powerpoint:bl()};return e}function xl(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/.*\?/,"").split("&");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}return e}function wl(e){let t=e.split("\\").join("").slice(2,-5),n=[],l=!1,a=0,o=0,s=0,c={},r={},i="",u="",d="";for(let m=0;m<t.length;m++){const e=t[m];switch(e){case"{":a++;break;case"}":a--,o>0?(c[d].push(r),r={}):s>0?(s=0,l=!1):0==o&&0==s&&0==a&&(n.push(c),c={});break;case")":o>0&&"}"==t[m-1]&&(o=0);break;case":":if("("==t[m+2]&&"{"==t[m+3]){o++;let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}d=kl(i),c[d]=[],i="",u=""}else if("{"==t[m+1]){s++;let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}d=kl(i),"order"==d&&(l=!0,console.log("openingKeyOrder = true;")),c[d]={},i="",u=""}else if(o>0){let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}let n=m;while(n<t.length){const e=t[n+2];'"'!=e?(u+=e,n++):n=t.length}r[kl(i)]="color"===kl(i)?u:_l(u),i="",u=""}else if(s>0){let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}let n=m;while(n<t.length){const e=t[n+2];'"'!=e?(u+=e,n++):n=t.length}if(-1!=u.indexOf("(")){console.log("what"),u="";let e=m;while(e<t.length){const n=t[e+2];")"!=n?(u+=n,e++):(u+=n,e=t.length)}if(l&&"("==u[0]&&")"==u[u.length-1])if("sentiments"==kl(i)){let e=u.slice(1,-1).split(","),t=[];for(let n=0;n<e.length;n++){const l=e[n];t.push(parseInt(l))}u=t}else u=u.slice(2,-2).split('"').join("").split(",")}c[d][kl(i)]="color"===kl(i)||"back_color"===kl(i)?u:_l(u),i="",u=""}else{let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}let n=m;while(n<t.length){const e=t[n+2];'"'!=e?(u+=e,n++):n=t.length}c[kl(i)]=_l(u),i="",u=""}break;default:break}}return console.log("jsonArr",n),n}function _l(e){return"false"!=e&&("true"==e||(Number(e)+""!="NaN"?Number(e):e))}function kl(e){let t="";for(let n=e.length-1;n>=0;n--){const l=e[n];t+=l}return t}function El(e){switch(e){case"ru":return"rus";case"en":return"eng";case"kz":return"kaz"}}function Ol(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/\?.*/,"").split("//").join("").split("/");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}let l=Object.keys(e)[1];return El(l)}function jl(e,t,n){for(let l=0;l<n().length;l++){const a=n()[l];if(a[0].name==t.id){let n=JSON.parse(JSON.stringify(a)),l=!1;if("string"===typeof t.position&&t.position.indexOf("_")>-1){l=!0;let n=t.position.split("_")[0];(0===e.length||e&&e[e.length-1]&&e[e.length-1][0].id.split("-")[1]!==n)&&e.push([{id:`group-${n}`,name:"GROUP",error:"Должно быть два элемента."},{elements:[]}])}if(n[1]){let e=Object.keys(t),l=n[1];l.forEach((n=>{let l=n.type;e.forEach((e=>{if("checkbox"!=l&&"number"!=l||e!=n.name)if("select"==l&&"type"==n.name&&e==n.name)n.value.forEach((n=>{n[0].selected=n[0].name==t[e],Object.keys(n[1]).forEach((e=>{n[1].valueName=t[e]}))}));else if("select"==l&&n.outputIndex&&e==n.name)n.value.forEach((n=>{n.selected=n.index==t[e]}));else if("columns"==l&&e==n.name){let l=[...n.value],a=t[e],o=[];a.forEach((e=>{l.forEach((t=>{t.name==e.id&&o.push(t)}))})),n.value=o,console.log(n.value),n.value.forEach(((n,l)=>{"number"!=n.name&&"content"!=n.name&&(n.selected=0!=t[e][l].position,n.params&&n.params.forEach((n=>{let a="checkbox"==n.type?"selected":"value",o="checkbox"==n.type?t[e][l][n.name]:"#"+t[e][l][n.name];n[a]=o})))})),console.log(n.value)}else"dropdown"!=l&&"tag_highlight"!=n.name||e!=n.name?"dropdown"!=l&&"order"!=n.name||e!=n.name||(n.value.forEach((n=>{n[1].forEach((l=>{l.selected=l.index==t[e][n[0].name]}))})),n.draggables.forEach((n=>{let l=[...n[1]],a=t[e][n[0].name],o=[];a.forEach((e=>{l.forEach((t=>{t.name==e||(t.selected=!1),o.push(t)}))})),n[1]=o,n[1].forEach((l=>{let a=t[e][n[0].name];a.forEach((e=>{l.selected=l.name==e}))}))}))):n.value.forEach((n=>{let l="back_color"==n.name||"color"==n.name?"#"+t[e][n.name]:t[e][n.name];n.value=l}));else"text_length"==n.name&&(n.selected=0!=t[e]),n.value=t[e]}))}))}l?e[e.length-1][1].elements.push(n):e.push(n)}}}function Sl(){return JSON.parse(JSON.stringify(vl()[mt()].value))}function Cl(){let e=xl();null!=e.constructorId&&zn().get(`https://cabinet322.imas.kz/ru/reports/getreport?id=${e.constructorId}&token=${e.token}`).then((t=>{let n=t.data.projects[0].json,l=t.data.projects[0].format;const a={word:"WORD",pdf:"PDF",excel:"Excel",powerpoint:"PowerPoint"};ft("format",a[l]),console.log("_json",n);let o=wl(n);console.log(o),console.log(Sl());for(let s=0;s<o.length;s++){let t=o[s];if("template_settings"==t.id){Object.assign(t,e),document.querySelector("#project-name").value=t.title,document.querySelector("#constructor-name").value=decodeURI(e.constructorName),t.format=t.format.split("_")[0]+"_"+Ol();const n={portrait:"Портрет",landscape:"Пейзаж"};ft("orientation",n[t.orientation]),ft("pdf_orientation",n[t.pdf_orientation]),ft("menu","Проект"),on("content",Ll(t.content)),on("full_page_title",Ll(t.full_page_title)),on("merge_cells",Ll(t.merge_cells))}else if("powerpoint"==l){jt().push([{id:`group-${t.position}`,name:"GROUP",projectId:t.projectId,projectName:t.projectName,error:"Не менее одного элемента в проекте."},{elements:[]}]);let e=jt()[s][1].elements;t.elements.forEach((t=>{jl(e,t,Sl)}))}else jl(jt(),t,Sl)}console.log(jt())}))}const Ll=e=>"true"===e||"false"!==e&&e;var Dl={name:"App",components:{ContentConstructs:En,ContentSidebar:hl},setup(){function e(){return JSON.parse(JSON.stringify(vl()[mt()].value))}return(0,s.bv)(Cl),{switchFormat:e,checkbox:an}}};const Pl=(0,T.Z)(Dl,[["render",i]]);var ql=Pl;const Nl=(0,o.ri)(ql);Nl.mount("#app")}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,o){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],o=e[u][2];for(var c=!0,r=0;r<l.length;r++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](l[r])}))?l.splice(r--,1):(c=!1,o<s&&(s=o));if(c){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,o,s=l[0],c=l[1],r=l[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(r)var u=r(n)}for(t&&t(l);i<s.length;i++)o=s[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},l=self["webpackChunkreport_constructor"]=self["webpackChunkreport_constructor"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(1557)}));l=n.O(l)})();
//# sourceMappingURL=app.d7942e83.js.map