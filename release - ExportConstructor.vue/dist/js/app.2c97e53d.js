(function(){"use strict";var e={8733:function(e,t,n){var l=n(9242),a=n(3396);const o={class:"app"},s={class:"content"};function c(e,t,n,l,c,r){const i=(0,a.up)("content-constructs"),u=(0,a.up)("content-sidebar");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",s,[(0,a.Wm)(i,{checkbox:e.checkbox},null,8,["checkbox"]),(0,a.Wm)(u,{pdf:l.switchFormat()},null,8,["pdf"])])])}n(7658);const r={class:"constructs"};function i(e,t,n,o,s,c){const i=(0,a.up)("content-params"),u=(0,a.up)("content-load"),d=(0,a.up)("element-list");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(i),(0,a.Wm)(d,{class:"report-elements h-full",style:{"max-height":"calc(100vh - 151px)"}},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,null,null,512),[[l.F8,o.loading]])])),_:1})])}var u=n(7139);const d={key:0,class:"group"},m={key:0,class:"group__title group-bg flex items-center"},p=(0,a._)("span",{class:"w-full cursor-pointer handle"},"Группа",-1),h=["onClick"],y={key:1,class:"group__title group-bg flex items-center"},f={class:"w-full cursor-pointer handle"},g=["for"],b=(0,a.Uk)(" Проект: "),v=["onUpdate:modelValue"],x=["for"],w=(0,a.Uk)(" его номер: "),_=["onUpdate:modelValue"],k=["onClick"],E={class:"absolute hidden left-3 bottom-1.5 text-red-500",style:{"font-size":"14px"}};function j(e,t,n,o,s,c){const r=(0,a.up)("element-item"),i=(0,a.up)("vuedraggable");return(0,a.wg)(),(0,a.j4)(i,{group:"todosapp",class:"accs",list:o.report_copy[o.selectedFormat()],move:c.checkMove,animation:"250",handle:".handle"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.report_copy[o.selectedFormat()],(([e,t])=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},["GROUP"===e.name?((0,a.wg)(),(0,a.iD)("div",d,["powerpoint"!=o.selectedFormat()?((0,a.wg)(),(0,a.iD)("div",m,[p,(0,a._)("button",{class:"remove-element",onClick:t=>o.removeGroup(o.report_copy[o.selectedFormat()],e.id)}," Разгруппировать ",8,h)])):((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("span",f,[(0,a._)("label",{for:"project-"+e.id,style:{color:"#eaeaea"}},[b,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t=>e.projectName=t,class:"group-input",style:{width:"300px"}},null,8,v),[[l.nr,e.projectName]])],8,g),(0,a._)("label",{for:"number-"+e.id,style:{color:"#eaeaea"}},[w,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t=>e.projectId=t,class:"group-input",style:{width:"70px"}},null,8,_),[[l.nr,e.projectId]])],8,x)]),(0,a._)("button",{class:"remove-element",onClick:t=>o.removeProject(o.report_copy[o.selectedFormat()],e.id)}," Удалить ",8,k)])),(0,a.Wm)(i,{group:"todosapp",class:(0,u.C_)(["group__body group-bg pos-r",e.id]),list:t.elements,move:c.checkMoveFromGroup,animation:"250",handle:".handle"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.elements,(([e,t])=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,keyObject:e,value:t},null,8,["keyObject","value"])))),128)),(0,a._)("div",E,(0,u.zw)(e.error),1)])),_:2},1032,["class","list","move"])])):((0,a.wg)(),(0,a.j4)(r,{key:1,keyObject:e,value:t},null,8,["keyObject","value"]))])))),128)),(0,a.WI)(e.$slots,"default")])),_:3},8,["list","move"])}const O={class:"acc2"},S=(0,a._)("i",{class:"fa-solid fa-grip-lines handle",style:{background:"rgb(53, 126, 189)"}},null,-1),C=["data-name"],L={class:"acc"},P=(0,a._)("span",{class:"remove-element"},"Удалить",-1),D=[P];function q(e,t,n,l,o,s){const c=(0,a.up)("next-element-list");return(0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("div",{class:(0,u.C_)(["acc2__title",{"table-element":"table"==n.keyObject.type}])},[S,(0,a._)("span",{class:(0,u.C_)("table"!=n.keyObject.type?n.keyObject.type:""),"data-name":n.keyObject.name},(0,u.zw)(n.keyObject.ru),11,C),(0,a._)("i",{onClick:t[0]||(t[0]=(...e)=>l.toggleNextElementList&&l.toggleNextElementList(...e)),class:"fa-solid fa-angle-right",style:{background:"rgb(53, 126, 189)"}})],2),(0,a.Wm)(c,{nextElements:n.value,onShowOptions:l.toggleNextElementOptions},{default:(0,a.w5)((()=>[(0,a._)("div",L,[(0,a._)("div",{class:"acc__title-copy",onClick:t[1]||(t[1]=e=>l.removeElement(l.report_copy[l.selectedFormat()],n.keyObject.name,n.keyObject.id,"powerpoint"==l.selectedFormat()))},D)])])),_:1},8,["nextElements","onShowOptions"])])}const F={class:"acc2__content flex w-0"};function U(e,t,n,l,o,s){const c=(0,a.up)("number-option"),r=(0,a.up)("checkbox-option"),i=(0,a.up)("select-index-option"),u=(0,a.up)("select-type-option"),d=(0,a.up)("columns-option"),m=(0,a.up)("dropdown-tag-option"),p=(0,a.up)("dropdown-order-option");return(0,a.wg)(),(0,a.iD)("div",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElements,(o=>((0,a.wg)(),(0,a.iD)(a.HY,{key:o},["number"==o.type?((0,a.wg)(),(0,a.j4)(c,{key:0,nextElement:o,onUpdateNumber:s.updateNumber,onUpdateLength:s.updateLenght,onShowOptions:t[0]||(t[0]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateNumber","onUpdateLength"])):"checkbox"==o.type?((0,a.wg)(),(0,a.j4)(r,{key:1,nextElement:o,onUpdateCheckbox:s.updateCheckbox},null,8,["nextElement","onUpdateCheckbox"])):"select"==o.type&&o.outputIndex?((0,a.wg)(),(0,a.j4)(i,{key:2,nextElement:o,onUpdateSelect:s.select,onShowOptions:t[1]||(t[1]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateSelect"])):"select"==o.type&&"type"==o.name?((0,a.wg)(),(0,a.j4)(u,{key:3,nextElement:o,onUpdateSelect:s.select,onUpdateCheck:s.check,onShowOptions:t[2]||(t[2]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateSelect","onUpdateCheck"])):"columns"==o.type?((0,a.wg)(),(0,a.j4)(d,{key:4,nextElement:o,onShowOptions:t[3]||(t[3]=t=>e.$emit("show-options",t)),onShowColumnOptions:s.select,table:"word"!=l.selectedFormat()||n.nextElements[0].value},null,8,["nextElement","onShowColumnOptions","table"])):"tag_highlight"==o.name&&"dropdown"==o.type?((0,a.wg)(),(0,a.j4)(m,{key:5,nextElement:o,onShowOptions:t[4]||(t[4]=t=>e.$emit("show-options",t))},null,8,["nextElement"])):"order"==o.name&&"dropdown"==o.type?((0,a.wg)(),(0,a.j4)(p,{key:6,nextElement:o,onUpdateSelect:s.select,onShowOptions:t[5]||(t[5]=t=>e.$emit("show-options",t))},null,8,["nextElement","onUpdateSelect"])):(0,a.kq)("",!0)],64)))),128)),(0,a.WI)(e.$slots,"default")])}const N={class:"acc"},J=["value","checked"],I={class:"acc__content"},R={class:"acc__item"},H=["type","value","min","max"];function $(e,t,n,o,s,c){return(0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("div",{class:"acc__title",onClick:t[1]||(t[1]=t=>e.$emit("show-options",t))},[(0,a._)("span",{class:(0,u.C_)({gray:"text_length"==n.nextElement.name&&!n.nextElement.selected}),style:{display:"flex","align-items":"center"}},[(0,a.Uk)((0,u.zw)(n.nextElement.ru)+" ",1),"text_length"==n.nextElement.name?((0,a.wg)(),(0,a.iD)("input",{key:0,type:"checkbox",onChange:t[0]||(t[0]=t=>e.$emit("update-length",n.nextElement,t.target.value)),value:n.nextElement.selected,checked:n.nextElement.selected,style:{"margin-top":"-1px","margin-left":"6px"}},null,40,J)):(0,a.kq)("",!0)],2)]),(0,a.wy)((0,a._)("div",I,[(0,a._)("div",R,[(0,a._)("input",{class:"acc-number bg-transparent appearance-none",style:{width:"50px"},type:n.nextElement.type,onInput:t[2]||(t[2]=t=>e.$emit("update-number",n.nextElement,t.target.value)),value:n.nextElement.value,min:n.nextElement.min,max:n.nextElement.max},null,40,H)])],512),[[l.F8,"text_length"!=n.nextElement.name||"text_length"==n.nextElement.name&&n.nextElement.selected]])])}var z={name:"number-option",props:{nextElement:{required:!0}}},W=n(89);const T=(0,W.Z)(z,[["render",$]]);var M=T;const A={class:"acc"},Y=(0,a._)("div",{class:"acc__content"},null,-1);function G(e,t,n,l,o,s){return(0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("update-checkbox",n.nextElement,!n.nextElement.value))},[(0,a._)("span",{class:(0,u.C_)({gray:!n.nextElement.value})},(0,u.zw)(n.nextElement.ru),3)]),Y])}var V={name:"checkbox-option",props:{nextElement:{required:!0}}};const K=(0,W.Z)(V,[["render",G]]);var Z=K;const B={class:"acc ref_content"},Q={class:"acc__content"},X=["onClick"];function ee(e,t,n,l,o,s){return(0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,a._)("span",null,(0,u.zw)(n.nextElement.ru),1)]),(0,a._)("div",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElement.value,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,u.C_)(["acc__item",{gray:!t.selected}]),key:t,onClick:l=>e.$emit("update-select",n.nextElement.value,t.name,!0)},(0,u.zw)(t.name),11,X)))),128))])])}var te={name:"select-index-option",props:{nextElement:{required:!0}}};const ne=(0,W.Z)(te,[["render",ee]]);var le=ne;const ae={class:"acc ref_content"},oe={class:"acc__content"},se=["onClick"],ce={class:"flex items-center"},re=(0,a._)("i",{class:"fa-solid fa-angle-right w-full flex justify-end pl-1"},null,-1),ie={key:0,class:"pos-a"},ue=["onClick"],de={class:"w-full text-left mr-1"},me=["onChange","checked","value"];function pe(e,t,n,l,o,s){return(0,a.wg)(),(0,a.iD)("div",ae,[(0,a._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,a._)("span",null,(0,u.zw)(n.nextElement.ru),1)]),(0,a._)("div",oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElement.value,(([t,l])=>((0,a.wg)(),(0,a.iD)("div",{class:(0,u.C_)(["acc__item pos-r",{gray:!t.selected}]),key:t,onClick:l=>e.$emit("update-select",n.nextElement.value,t.name)},[(0,a._)("span",ce,[(0,a.Uk)((0,u.zw)(t.ru)+" ",1),re]),t.selected?((0,a.wg)(),(0,a.iD)("div",ie,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.entries(l),(([t,n])=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,u.C_)(["acc__item flex justify-start items-center",{gray:!n}]),onClick:e=>l[t]=!n},[(0,a._)("span",de,(0,u.zw)(o.keyNames[t]),1),(0,a._)("input",{type:"checkbox",onChange:t=>e.$emit("update-check",n,t.target.value),checked:n,value:n,style:(0,u.j5)({})},null,44,me)],10,ue)))),128))])):(0,a.kq)("",!0)],10,se)))),128))])])}var he={name:"select-type-option",data(){return{keyNames:{data_labels:"Метрики данных",labels:"Метрики"}}},props:{nextElement:{required:!0}}};const ye=(0,W.Z)(he,[["render",pe]]);var fe=ye;const ge={class:"acc ref_content"},be={class:"acc__content"},ve={class:"acc__item pos-r bg-transparent"},xe={class:"pos-a flex columns"},we=["onClick"],_e={class:"w-full text-left"},ke=["onUpdate:modelValue"],Ee=["onUpdate:modelValue"],je={key:1,class:"acc__item m-0"},Oe=["onUpdate:modelValue"];function Se(e,t,n,o,s,c){const r=(0,a.up)("vuedraggable");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",ge,[(0,a._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,a._)("span",null,(0,u.zw)(n.nextElement.ru),1)]),(0,a._)("div",be,[(0,a._)("div",ve,[(0,a._)("div",xe,[(0,a.Wm)(r,{list:n.nextElement.value,class:"flex",animation:"250"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElement.value,(o=>((0,a.wg)(),(0,a.iD)("div",{key:o},["hide"!=o.selected?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,u.C_)(["acc__item mr-1 pos-r",{gray:!o.selected}]),style:{"min-width":"110px","justify-content":"start",display:"flex","align-items":"center"},onClick:t=>e.$emit("show-column-options",n.nextElement.value,o.name,!0,"showParams")},[(0,a._)("span",_e,[(0,a._)("i",{class:"fa-solid fa-grip-lines handle mr-1",style:(0,u.j5)({transform:"rotate(90deg)"})},null,4),(0,a.Uk)((0,u.zw)(o.ru),1)]),"default"!=o.selected?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,type:"checkbox",class:"ml-1",style:{"margin-top":"1px"},"onUpdate:modelValue":e=>o.selected=e},null,8,ke)),[[l.e8,o.selected]]):(0,a.kq)("",!0),o.selected&&o.showParams?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"pos-a pl-0 w-full",style:{top:"100%",left:"0","padding-top":"4px"},onClick:t[1]||(t[1]=(0,l.iM)((()=>{}),["stop"]))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.params,(e=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e.name},["checkbox"==e.type?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,u.C_)(["acc__item m-0 mb-0.5 flex",{gray:!e.selected}])},[(0,a._)("span",null,(0,u.zw)(s.paramKeys[e.name]),1),(0,a.wy)((0,a._)("input",{type:"checkbox",class:"ml-auto mt-0","onUpdate:modelValue":t=>e.selected=t},null,8,Ee),[[l.e8,e.selected]])],2)):(0,a.kq)("",!0),"color"==e.type?((0,a.wg)(),(0,a.iD)("div",je,[(0,a.wy)((0,a._)("input",{type:"color",class:"w-full","onUpdate:modelValue":t=>e.value=t,style:{height:"22px",background:"transparent"}},null,8,Oe),[[l.nr,e.value]])])):(0,a.kq)("",!0)],64)))),128))])):(0,a.kq)("",!0)],10,we)):(0,a.kq)("",!0)])))),128))])),_:1},8,["list"])])])])],512)),[[l.F8,n.nextElement.name==c.isTable]])}var Ce=n(8249),Le={name:"columns-option",components:{vuedraggable:Ce.J},data(){return{paramKeys:{bold:"Жирность",italic:"Курсив",underline:"Подчеркнуть"}}},props:{nextElement:{required:!0},table:{required:!0}},computed:{isTable(){return this.table?"columns":"list_rows"}}};const Pe=(0,W.Z)(Le,[["render",Se]]);var De=Pe;const qe={class:"acc"},Fe={class:"acc__content"},Ue=["onClick"],Ne={key:1,class:"acc__item pos-r p-0"},Je=["onClick"],Ie=(0,a._)("i",{class:"fa-solid fa-angle-right w-full flex justify-end pl-1"},null,-1),Re={class:"pos-a"},He={class:"acc__item"},$e=["onUpdate:modelValue"];function ze(e,t,n,o,s,c){return(0,a.wg)(),(0,a.iD)("div",qe,[(0,a._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,a._)("span",null,(0,u.zw)(n.nextElement.ru),1)]),(0,a._)("div",Fe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElement.value,(e=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e},["checkbox"==e.type?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,u.C_)(["acc__item",{gray:!e.value}]),onClick:t=>e.value=!e.value},(0,u.zw)(e.ru),11,Ue)):"color"==e.type?((0,a.wg)(),(0,a.iD)("div",Ne,[(0,a._)("span",{class:"flex px-2 items-center",onClick:t=>e.show=!e.show},[(0,a.Uk)((0,u.zw)(e.ru)+" ",1),Ie],8,Je),(0,a.wy)((0,a._)("div",Re,[(0,a._)("div",He,[(0,a.wy)((0,a._)("input",{type:"color","onUpdate:modelValue":t=>e.value=t,style:{height:"22px",background:"transparent"}},null,8,$e),[[l.nr,e.value]])])],512),[[l.F8,e.show]])])):(0,a.kq)("",!0)],64)))),128))])])}var We={name:"dropdown-tag-option",props:{nextElement:{required:!0}}};const Te=(0,W.Z)(We,[["render",ze]]);var Me=Te;const Ae={class:"acc ref_content"},Ye={class:"acc__content"},Ge={key:0,class:"acc__item pos-r p-0"},Ve=["onClick"],Ke=(0,a._)("i",{class:"fa-solid fa-angle-right absolute right-1.5 top-1"},null,-1),Ze={key:0,class:"pos-a"},Be=["onClick"],Qe={key:0,class:"acc__item pos-r p-0 on-hover"},Xe=["onClick"],et=(0,a._)("i",{class:"fa-solid fa-grip-lines -translate-x-1"},null,-1),tt=["onUpdate:modelValue","onClick"],nt={key:0,class:"pos-a"},lt=["onClick"],at=(0,a._)("i",{class:"fa-solid fa-grip-lines -translate-x-1"},null,-1),ot=["onUpdate:modelValue"];function st(e,t,n,o,s,c){const r=(0,a.up)("vuedraggable");return(0,a.wg)(),(0,a.iD)("div",Ae,[(0,a._)("div",{class:"acc__title",onClick:t[0]||(t[0]=t=>e.$emit("show-options",t))},[(0,a._)("span",null,(0,u.zw)(n.nextElement.ru),1)]),(0,a._)("div",Ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElement.value,(([t,n])=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},["select"==t.type?((0,a.wg)(),(0,a.iD)("div",Ge,[(0,a._)("span",{class:"flex justify-center",onClick:e=>t.selected=!t.selected},[(0,a.Uk)((0,u.zw)(t.ru)+" ",1),Ke],8,Ve),t.selected?((0,a.wg)(),(0,a.iD)("div",Ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,u.C_)(["acc__item",{gray:!t.selected}]),onClick:l=>e.$emit("update-select",n,t.name,!0)},(0,u.zw)(t.ru),11,Be)))),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],64)))),128)),(0,a.Wm)(r,{list:n.nextElement.draggables,animation:"250"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nextElement.draggables,(([e,t])=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e.name},["draggable"==e.type?((0,a.wg)(),(0,a.iD)("div",Qe,[(0,a._)("span",{class:(0,u.C_)(["flex justify-center items-center h-full px-2",{gray:!e.selected}]),onClick:t=>e.showResources=!e.showResources},[et,(0,a.Uk)(" "+(0,u.zw)(e.ru)+" ",1),(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t,style:{"margin-top":"-1px","margin-left":"5px"},onClick:t=>e.selected=!e.selected},null,8,tt),[[l.e8,e.selected]])],10,Xe),e.selected&&e.showResources?((0,a.wg)(),(0,a.iD)("div",nt,[(0,a.Wm)(r,{list:t,animation:"250"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:(0,u.C_)(["acc__item flex justify-between items-center h-full",{gray:!e.selected}]),onClick:t=>e.selected=!e.selected},[at,(0,a.Uk)(" "+(0,u.zw)(e.ru??e.name)+" ",1),(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t,style:(0,u.j5)({transform:"translate(3px, -2px)"})},null,12,ot),[[l.e8,e.selected]])],10,lt)))),128))])),_:2},1032,["list"])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],64)))),128))])),_:1},8,["list"])])])}var ct={name:"dropdown-order-option",components:{vuedraggable:Ce.J},props:{nextElement:{required:!0}}};const rt=(0,W.Z)(ct,[["render",st]]);var it=rt,ut={components:{NumberOption:M,CheckboxOption:Z,SelectIndexOption:le,SelectTypeOption:fe,ColumnsOption:De,DropdownTagOption:Me,DropdownOrderOption:it},props:{nextElements:{required:!1}},methods:{select(e,t,n=!1,l="selected"){e.forEach((e=>{n?e[l]=e.name==t:e[0][l]=e[0].name==t}))},updateCheckbox(e,t){e.value=t},updateNumber(e,t){e.value=t},check(e,t){!this.stringToBoolean(t)},updateLenght(e,t){e.selected=!this.stringToBoolean(t)},stringToBoolean(e){return"true"===e||"false"!==e&&void 0}},mounted(){let e=document.querySelectorAll(".table-element");e.forEach((e=>{let t=e.nextElementSibling.querySelectorAll(".pos-a.flex.columns");t.forEach((t=>{let n=0;"word"==this.selectedFormat()&&(n=35),t.style.left=-(e.clientWidth+n)+"px"}))}))},setup(){const e=(0,a.f3)("selectedFormat");return{selectedFormat:e}}};const dt=(0,W.Z)(ut,[["render",U]]);var mt=dt;function pt(e){let t=document.querySelectorAll(".acc__title");t.forEach((t=>{let n=t.nextElementSibling,l=t.nextElementSibling.style;t!=e&&(l.height=l.padding="0px",n.classList.remove("open"),n.classList.add("afterHide"),setTimeout((()=>{n.classList.remove("afterHide")}),400))}))}function ht(e){let t=document.querySelectorAll(".acc2__title");t.forEach((t=>{let n=t.nextElementSibling.style;t.nextElementSibling.classList.remove("f-w"),t.nextElementSibling.setAttribute("data-width","100%"),t!=e&&(n.width=n.padding="0px",t.nextElementSibling.classList.remove("open"),t.nextElementSibling.classList.add("afterHide"),setTimeout((()=>{t.nextElementSibling.classList.remove("afterHide")}),400))}))}function yt(e){let t=e.target.parentElement,n=document.querySelectorAll(".acc2__title");n.forEach((e=>{let n=e.nextElementSibling.style;if(ht(t),e==t)if(ht(t),pt(t),e.nextElementSibling.classList.contains("open"))e.nextElementSibling.classList.remove("f-w"),n.width=n.padding="0px",e.nextElementSibling.classList.remove("open"),e.nextElementSibling.classList.add("afterHide"),setTimeout((()=>{e.nextElementSibling.classList.remove("afterHide")}),400);else{n.width=e.nextElementSibling.getAttribute("data-width");let t=getComputedStyle(document.documentElement).getPropertyValue("--acc-padding");n.padding=t,n.boxSizing="content-box",e.nextElementSibling.addEventListener("transitionend",(()=>{e.nextElementSibling.classList.contains("afterHide")||(e.nextElementSibling.classList.add("open"),e.nextElementSibling.classList.add("f-w"))}))}}))}function ft(e){let t=e&&e.target.parentElement,n=document.querySelectorAll(".acc__title");n.forEach((e=>{let n=e.nextElementSibling.style;n.height=n.paddingTop=n.paddingBottom="0px",e==t&&(e.parentElement.classList.contains("ref_content")&&(n.width=e.offsetWidth+"px"),e.nextElementSibling.classList.contains("open")?(n.height=n.paddingTop=n.paddingBottom="0px",e.nextElementSibling.classList.remove("open"),e.nextElementSibling.classList.add("afterHide"),setTimeout((()=>{e.nextElementSibling.classList.remove("afterHide")}),400)):(pt(t),n.height=e.nextElementSibling.scrollHeight+"px",n.paddingTop=n.paddingBottom="0px",e.nextElementSibling.addEventListener("transitionend",(()=>{e.nextElementSibling.classList.contains("afterHide")||e.nextElementSibling.classList.add("open")}))))}))}var gt={toggleNextElementList:yt,toggleNextElementOptions:ft},bt={components:{NextElementList:mt},props:{keyObject:{required:!0},value:{required:!0}},setup(){const e=(0,a.f3)("report_copy"),t=(0,a.f3)("selectedFormat"),n=(0,a.f3)("removeElement"),{toggleNextElementList:l,toggleNextElementOptions:o}=gt;return{report_copy:e,selectedFormat:t,removeElement:n,toggleNextElementList:l,toggleNextElementOptions:o}}};const vt=(0,W.Z)(bt,[["render",q]]);var xt=vt,wt={components:{ElementItem:xt,vuedraggable:Ce.J},methods:{checkMove(e){if(e.dragged.firstChild.classList.contains("group")&&e.to.classList.contains("group__body"))return!1;if(e.from.classList.contains("accs")&&e.to.classList.contains("group__body")&&"powerpoint"!=this.selectedFormat()){let t=e.to;return console.log(e.dragged.querySelector(".acc2 .acc2__title span").classList.contains("graph")),!!e.dragged.querySelector(".acc2 .acc2__title span").classList.contains("graph")&&t.children.length<3}},checkMoveFromGroup(e){if(e.from.classList.contains("group__body")&&e.to.classList.contains("group__body")&&"powerpoint"!=this.selectedFormat()){let t=e.from,n=e.to;return t==n||n.children.length<3}}},setup(){const e=(0,a.f3)("selectedFormat"),t=(0,a.f3)("report_copy"),n=(0,a.f3)("removeGroup"),l=(0,a.f3)("removeProject");return{selectedFormat:e,report_copy:t,removeGroup:n,removeProject:l}}};const _t=(0,W.Z)(wt,[["render",j]]);var kt=_t;const Et={class:"params"},jt={type:"text",placeholder:"Название Шаблона...",class:"pl-4 w-full",id:"constructor-name"},Ot={type:"text",placeholder:"Имя проекта...",class:"pl-4 w-full",id:"project-name"},St=(0,a.Uk)(" Объединить ячейки "),Ct=(0,a.Uk)(" Оглавление "),Lt=(0,a.Uk)(" Титульник ");function Pt(e,t,n,o,s,c){const r=(0,a.up)("my-checkbox"),i=(0,a.up)("select-params");return(0,a.wg)(),(0,a.iD)("div",Et,[(0,a.wy)((0,a._)("input",jt,null,512),[[l.F8,"template"==o.selectedMenu()]]),(0,a.wy)((0,a._)("input",Ot,null,512),[[l.F8,"project"==o.selectedMenu()]]),(0,a.wy)((0,a.Wm)(r,{param:"merge_cells"},{default:(0,a.w5)((()=>[St])),_:1},512),[[l.F8,"project"==o.selectedMenu()&&"excel"==o.selectedFormat()]]),(0,a.wy)((0,a.Wm)(r,{param:"content"},{default:(0,a.w5)((()=>[Ct])),_:1},512),[[l.F8,"project"==o.selectedMenu()&&"powerpoint"==o.selectedFormat()]]),(0,a.wy)((0,a.Wm)(r,{param:"full_page_title"},{default:(0,a.w5)((()=>[Lt])),_:1},512),[[l.F8,"project"==o.selectedMenu()&&"word"==o.selectedFormat()]]),(0,a.wy)((0,a.Wm)(i,{options:o.format.options,selectWidth:o.format.width,onSelectOption:o.selectOption},null,8,["options","selectWidth","onSelectOption"]),[[l.F8,"template"==o.selectedMenu()]]),(0,a.wy)((0,a.Wm)(i,{options:o.orientation.options,arrayName:"orientation",selectWidth:o.orientation.width,onSelectOption:o.selectOption},null,8,["options","selectWidth","onSelectOption"]),[[l.F8,"project"==o.selectedMenu()&&"word"==o.selectedFormat()]]),(0,a.Wm)(i,{options:o.menu.options,arrayName:"menu",selectWidth:o.menu.width,onSelectOption:o.selectOption},null,8,["options","selectWidth","onSelectOption"])])}const Dt={style:{"padding-top":"4px"}},qt=["onClick"],Ft=(0,a._)("span",null,null,-1),Ut=(0,a._)("ul",null,null,-1),Nt=(0,a._)("i",{class:"fa fa-angle-down"},null,-1);function Jt(e,t,n,o,s,c){return(0,a.wg)(),(0,a.iD)("div",{class:"select bg-white cursor-pointer",onMouseleave:t[2]||(t[2]=(...e)=>c.hideOptions&&c.hideOptions(...e)),onClick:t[3]||(t[3]=(...e)=>c.showOptions&&c.showOptions(...e))},[(0,a._)("div",{class:"select-default h-full flex justify-start items-center pl-3 pr-5",style:(0,u.j5)({width:n.selectWidth+"px"})},(0,u.zw)(c.selectedOptionName),5),(0,a._)("div",{class:"select-offset h-1 w-full",onClick:t[0]||(t[0]=(0,l.iM)((()=>{}),["stop"]))}),(0,a._)("div",Dt,[(0,a._)("div",{class:"select-options",style:(0,u.j5)({width:n.selectWidth+"px"}),onClick:t[1]||(t[1]=(0,l.iM)((()=>{}),["stop"]))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.options,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,u.C_)(["w-full pl-3 pr-5",{selected:t.selected}]),key:t,onClick:l=>e.$emit("select-option",n.arrayName,t.name)},[t.iconClass?((0,a.wg)(),(0,a.iD)("i",{key:0,class:(0,u.C_)([t.iconClass,"mr-2"]),style:{"fonst-size":"14px"}},null,2)):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,u.zw)(t.name),1)],10,qt)))),128)),Ft,Ut],4)]),Nt],32)}var It={props:{arrayName:{type:String,required:!1,default:"format"},options:{type:Array,required:!0},selectWidth:{type:Number,required:!0}},computed:{selectedOptionName(){return this.options.find((e=>e.selected)).name}},methods:{showOptions(e){e.target.classList.contains("select")?e.target.querySelector(" .select-options").style.display="block":e.target.parentElement.querySelector(".select-options").style.display="block"},hideOptions(e){e.target.querySelector(" .select-options").style.display="none"}}};const Rt=(0,W.Z)(It,[["render",Jt]]);var Ht=Rt;const $t={class:"abc-checkbox-circlle flex items-center bg-white",style:{height:"36px","border-radius":"4px","font-size":"10pt",padding:"0 9px"}},zt=["id"],Wt=["for"];function Tt(e,t,n,o,s,c){return(0,a.wg)(),(0,a.iD)("div",$t,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:n.param,"onUpdate:modelValue":t[0]||(t[0]=e=>o.checkbox[n.param]=e),style:{"margin-top":"0","margin-right":"6px"}},null,8,zt),[[l.e8,o.checkbox[n.param]]]),(0,a._)("label",{class:"font-normal whitespace-nowrap mb-0",for:n.param},[(0,a.WI)(e.$slots,"default")],8,Wt)])}var Mt={setup(){const e=(0,a.f3)("checkbox");return{checkbox:e}},props:{param:{type:String,required:!0}}};const At=(0,W.Z)(Mt,[["render",Tt]]);var Yt=At,Gt={setup(){const e=(0,a.f3)("format"),t=(0,a.f3)("orientation"),n=(0,a.f3)("menu"),l=(0,a.f3)("selectOption"),o=(0,a.f3)("selectedMenu"),s=(0,a.f3)("selectedFormat");return{format:e,orientation:t,menu:n,selectOption:l,selectedMenu:o,selectedFormat:s}},components:{SelectParams:Ht,MyCheckbox:Yt},computed:{}};const Vt=(0,W.Z)(Gt,[["render",Pt],["__scopeId","data-v-05e302be"]]);var Kt=Vt;const Zt={class:"bg-gray-blur"},Bt=(0,a._)("div",{class:"lds-roller"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")],-1),Qt=[Bt];function Xt(e,t,n,l,o,s){return(0,a.wg)(),(0,a.iD)("div",Zt,Qt)}var en={};const tn=(0,W.Z)(en,[["render",Xt]]);var nn=tn,ln={components:{ElementList:kt,ContentParams:Kt,ContentLoad:nn},setup(){const e=(0,a.f3)("loading");return{loading:e}}};const an=(0,W.Z)(ln,[["render",i]]);var on=an;const sn={class:"sidebar flex flex-col"};function cn(e,t,n,l,o,s){const c=(0,a.up)("sidebar-menu"),r=(0,a.up)("sidebar-button");return(0,a.wg)(),(0,a.iD)("div",sn,[(0,a.Wm)(c,{pdf:n.pdf},null,8,["pdf"]),(0,a.Wm)(r,{pdf:n.pdf},null,8,["pdf"])])}const rn={class:"sidebar-menu w-full"},un={key:0,class:"sidebar__group"},dn={class:"f-w-500 title_newprojects block__header"},mn=["id","onClick","data-name"];function pn(e,t,n,l,o,s){return(0,a.wg)(),(0,a.iD)("div",rn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.typeArray,(([e,c])=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e},[c.length>0?((0,a.wg)(),(0,a.iD)("div",un,[(0,a._)("h3",dn,(0,u.zw)(o.groupNames[e]),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e[0],class:"element",id:e[0].id,onClick:t=>(l.addElement(l.report_copy[l.selectedFormat()],n.pdf,e[0].name,s.isPowerPoint,o.newId),o.newId++),"data-name":e[0].name},(0,u.zw)(e[0].ru),9,mn)))),128)),"Графики"==o.groupNames[e]&&s.isPDF?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"element text-center add-group",onClick:t[0]||(t[0]=e=>l.addGroup(l.report_copy[l.selectedFormat()]))}," Группа ")):"Проект"==o.groupNames[e]&&s.isPowerPoint?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"element text-center add-group",onClick:t[1]||(t[1]=e=>l.addProject(l.report_copy[l.selectedFormat()]))}," Проект ")):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],64)))),128))])}var hn={props:{pdf:{required:!0}},setup(){const e=(0,a.f3)("selectedFormat"),t=(0,a.f3)("report_copy"),n=(0,a.f3)("addElement"),l=(0,a.f3)("addGroup"),o=(0,a.f3)("addProject");return{selectedFormat:e,report_copy:t,addElement:n,addGroup:l,addProject:o}},data(){return{groupNames:{default:"Общее",graph:"Графики",map:"Карты",table:"Таблицы",project:"Проект"},newId:0}},computed:{typeArray(){const e={default:this.defaultList,graph:this.graphList,map:this.mapList,table:this.tableList,project:this.projectList};return Object.entries(e)},defaultList(){return this.pdf.filter((e=>"default"==e[0].type))},graphList(){return this.pdf.filter((e=>"graph"==e[0].type))},mapList(){return this.pdf.filter((e=>"map"==e[0].type))},tableList(){return this.pdf.filter((e=>"table"==e[0].type))},projectList(){return this.pdf.filter((e=>"project"==e[0].type))},isPDF(){return"pdf"==this.selectedFormat()},isPowerPoint(){return"powerpoint"==this.selectedFormat()}}};const yn=(0,W.Z)(hn,[["render",pn],["__scopeId","data-v-4e1b1a8f"]]);var fn=yn;const gn={class:"sidebar-buttons w-full flex flex-col"},bn=["disabled"],vn=["disabled"];function xn(e,t,n,l,o,s){return(0,a.wg)(),(0,a.iD)("div",gn,[(0,a._)("button",{disabled:l.loading,onClick:t[0]||(t[0]=e=>l.downloadReport2(l.createRequest2(l.report_copy[l.selectedFormat()],l.selectedFormat()),l.selectedFormat()))},"Скачать",8,bn),(0,a._)("button",{disabled:l.loading,onClick:t[1]||(t[1]=e=>l.saveTemplate2(l.createRequest2(l.report_copy[l.selectedFormat()],l.selectedFormat()),l.selectedFormat()))},"Сохранить шаблон",8,vn)])}function wn(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/.*\?/,"").split("&");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}return e}function _n(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/\?.*/,"").split("//").join("").split("/");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}let l=Object.keys(e)[1];return kn(l)}function kn(e){switch(e){case"ru":return"rus";case"en":return"eng";case"kz":return"kaz"}}function En(e){return void 0!=e?`(${JSON.stringify(e).slice(1,-1)})`:e}function jn(){let e=document.querySelector("#constructor-name").value;return""!=e?e:"Мой Конструктор"}function On(e,t){return function(n,l){var a=wn(),o=jn(),s=_n();let c=JSON.parse(JSON.stringify([...n]));c.forEach((e=>{let t=Object.keys(e);t.forEach((t=>{if("boolean"==typeof e[t])e[t]=""+e[t];else if("number"==typeof e[t])e[t]=""+e[t];else if("columns"===t||"list_rows"===t||"elements"===t)for(let n=0;n<e[t].length;n++){const l=e[t][n];let a=Object.keys(l);for(let e=0;e<a.length;e++){const t=a[e];"boolean"==typeof l[t]?l[t]=""+l[t]:"number"==typeof l[t]&&("position"==t&&console.log(t,l[t]),l[t]=""+l[t],"position"==t&&console.log(t,l[t]))}}else if("object"==typeof e[t]){let n=Object.keys(e[t]);for(let l=0;l<n.length;l++){const a=n[l];("boolean"==typeof e[t][a]||"number"==typeof e[t][a])&&(e[t][a]=""+e[t][a])}}})),t.forEach((t=>{if("columns"===t||"list_rows"===t||"elements"===t)e[t]=En(e[t]);else if("order"===t){let n=Object.keys(e[t]);for(let l=0;l<n.length;l++){const a=n[l];let o=JSON.stringify(e[t][a]);-1!=o.indexOf("[")&&-1!=o.indexOf("]")?e[t][a]=En(e[t][a]):("boolean"==typeof e[t][a]||"number"==typeof e[t][a])&&(e[t][a]=""+e[t][a])}}}))})),console.log("postRequest",c),console.log("JSON.stringify(postRequest)",JSON.stringify(c));let r="addreport",i={name:o,format:l,lang:s,token:a.token,json:JSON.stringify(c)};a.constructorId&&(r="updatereport",i={id:a.constructorId,user_id:a.user_id,name:o,format:l,lang:s,token:a.token,json:JSON.stringify(c)}),t(),e({method:"post",url:`https://cabinet322.imas.kz/ru/reports/${r}`,data:i,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}}).then((e=>{console.log("saveTemplate status:",e.status,e)})).then((function(){t()})).catch((function(e){console.log("error",e),t()}))}}const Sn=function(e,t){return function(n,l){t(),e({method:"post",url:"https://export.imas.kz/constructor",responseType:"arraybuffer",data:n}).then((function(e){const t={word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:e.headers["content-type"],excel:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",powerpoint:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},n={word:"docx",pdf:"pdf",excel:"xlsx",powerpoint:"pptx"};let a=new Blob([e.data],{type:t[l]}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.download=`Export_iMAS_${Cn(new Date)}.${n[l]}`,o.click()})).then((function(){t()})).catch((function(e){console.log(e),t()}))}};function Cn(e){function t(e){return String(e).padStart(2,"0")}const n=new Date,l=t(n.getHours())+"-"+t(n.getMinutes());return`${e.toISOString().slice(0,10)}_${l}`}function Ln(e,t,n){if("number"===t.type){let l=parseInt(t.value);l=l.limitation(t.min,t.max),"text_length"!=t.name||t.selected||(l=0),e[n][t.name]=l}}function Pn(e,t,n){"select"===t.type&&t.outputIndex&&t.value.forEach((l=>{l.selected&&(e[n][t.name]=l.index)}))}function Dn(e,t,n){"select"===t.type&&"type"===t.name&&t.value.forEach((l=>{l[0].selected&&(e[n][t.name]=l[0].name,Object.keys(l[1]).forEach((t=>{console.log(l[1]),e[n][t]=l[1][t]})))}))}function qn(e,t,n){"checkbox"===t.type&&(console.log(e,t,n),e[n],e[n]?e[n][t.name]=t.value:e[n-1][t.name]=t.value)}function Fn(e,t,n,l){if("columns"===t.type){e[n][t.name]=[];let a=0;t.value.forEach(((o,s)=>{let c=0;o.selected?c=s+1-a:o.selected||(c=0,a++),e[n][t.name].push({id:o.name,position:c}),console.log("true true"),o.params&&o.params.forEach((a=>{"checkbox"==a.type?e[n][t.name][s][a.name]=a.selected:"color"==a.type&&(e[n][t.name][s]["color"]="pdf"==l?a.value:a.value.split("#")[1])}))}))}}function Un(e,t,n,l){"dropdown"===t.type&&"tag_highlight"===t.name&&(e[n][t.name]={},t.value.forEach((a=>{let o=a.value;"color"==a.type&&"pdf"!=l&&(o=a.value.split("#")[1]),e[n][t.name][a.name]=o})))}function Nn(e,t,n){if("dropdown"===t.type&&"order"===t.name){switch(e[n][t.name]={},t.value.forEach((l=>{"select"===l[0].type&&l[0].outputIndex&&l[1].forEach((a=>{a.selected&&(e[n][t.name][l[0].name]=a.index)}))})),t.draggables[0][0].name){case"sentiments":e[n][t.name]["predominantly"]=0;break;case"categories":e[n][t.name]["predominantly"]=1;break;default:break}t.draggables.forEach((l=>{e[n][t.name][l[0].name]=[],l[0].selected?"sentiments"===l[0].name?l[1].forEach(((a,o)=>{let s=o+1;a.selected||(s=0),e[n][t.name][l[0].name].splice(a.defaultPosition,0,s)})):"categories"===l[0].name&&l[1].forEach((a=>{a.selected&&e[n][t.name][l[0].name].push(a.name)})):e[n][t.name][l[0].name]=0}))}}function Jn(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/.*\?/,"").split("&");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}return e}function In(e){let t=document.querySelectorAll(".group__body");return t.forEach((t=>{let n=t.querySelector(".absolute");if("powerpoint"!=e&&t.children.length<3||1==t.children.length)return n.classList.contains("hidden")&&n.classList.remove("hidden"),!0;n.classList.contains("hidden")||n.classList.add("hidden")})),!1}function Rn(e){let t=!1;if("powerpoint"!=e)return t;let n=document.querySelectorAll(".group__title");return n.forEach((e=>{let n=e.querySelectorAll("input");n&&n.forEach((e=>{0==e.value.length?(e.classList.add("input-error"),t=!0):e.classList.remove("input-error")}))})),t}function Hn(){let e=document.querySelector("#project-name").value;return""!=e?e:"Мой Шаблон"}function $n(e,t){return function(n,l){if(In(l))return;if(Rn(l))return;let a=JSON.parse(JSON.stringify(n)),o=[],s=0;a.forEach((([e,t],n)=>{"GROUP"!==e.name&&"powerpoint"!=l?(o.push({id:e.name,position:n+1}),t.length&&t.forEach((e=>{qn(o,e,s),Ln(o,e,s),Dn(o,e,s),Pn(o,e,s),Fn(o,e,s,l),Un(o,e,s,l),Nn(o,e,s)})),s++):t.elements.length&&("powerpoint"==l?(o.push({position:`${n+1}`,elements:[],projectName:e.projectName,projectId:e.projectId}),s=0,t.elements.forEach((([e,t],a)=>{o[n].elements.push({id:e.name,position:`${a+1}`}),t.length&&(s++,t.forEach((e=>{qn(o[n].elements,e,s),Ln(o[n].elements,e,s),Dn(o[n].elements,e,s),Pn(o[n].elements,e,s),Fn(o[n].elements,e,s,l),Un(o[n].elements,e,s,l),Nn(o[n].elements,e,s)})))}))):t.elements.forEach((([e,t],a)=>{o.push({id:e.name,position:`${n+1}_${a+1}`}),t.length&&(t.forEach((e=>{qn(o,e,s),Ln(o,e,s),Dn(o,e,s),Pn(o,e,s),Fn(o,e,s,l),Un(o,e,s,l),Nn(o,e,s)})),s++)})))}));let c=Jn();return o.push({id:"template_settings",font_size:10,font_name:"Arial",orientation:e(),content:t.content,full_page_title:t.full_page_title,merge_cells:t.merge_cells,title:Hn()}),Object.assign(o[o.length-1],c),o[o.length-1]["format"]=l+"_"+Wn(),o[o.length-1]["position"]=0,console.log(o),o}}function zn(e){switch(console.log(e),e){case"ru":return"rus";case"en":return"eng";case"kz":return"kaz"}}function Wn(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/\?.*/,"").split("//").join("").split("/");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}let l=Object.keys(e)[1];return zn(l)}Number.prototype.limitation=function(e,t){return isNaN(this)||this<e?e:this>t?t:this};var Tn=n(6265),Mn=n.n(Tn),An={props:{pdf:{required:!0}},setup(){const e=(0,a.f3)("report_copy"),t=(0,a.f3)("selectedFormat"),n=(0,a.f3)("toggleLoading"),l=Sn(Mn(),n()),o=(0,a.f3)("selectedOrientation"),s=(0,a.f3)("checkbox"),c=$n(o,s.value),r=On(Mn(),n()),i=(0,a.f3)("loading");return{downloadReport2:l,createRequest2:c,saveTemplate2:r,report_copy:e,selectedFormat:t,loading:i}}};const Yn=(0,W.Z)(An,[["render",xn]]);var Gn=Yn,Vn={props:{pdf:{required:!0}},components:{SidebarMenu:fn,SidebarButton:Gn}};const Kn=(0,W.Z)(Vn,[["render",cn],["__scopeId","data-v-7ffadc8e"]]);var Zn=Kn,Bn=n(4870);function Qn(){const e=(0,Bn.qj)((0,Bn.iH)({width:112.4,options:[{name:"WORD",value:"word",iconClass:"fa-regular fa-file-word",selected:!1},{name:"PDF",value:"pdf",iconClass:"fa-regular fa-file-pdf",selected:!0},{name:"Excel",value:"excel",iconClass:"fa-regular fa-file-excel",selected:!1},{name:"PowerPoint",value:"powerpoint",iconClass:"fa-regular fa-file-powerpoint",selected:!1}]})),t=(0,Bn.qj)((0,Bn.iH)({width:86.4,options:[{name:"Портрет",value:"portrait",selected:!1},{name:"Пейзаж",value:"landscape",selected:!0}]})),n=(0,Bn.qj)((0,Bn.iH)({width:86.4,options:[{name:"Проект",value:"project",selected:!1},{name:"Шаблон",value:"template",selected:!0}]}));return{format:e,orientation:t,menu:n}}function Xn(){const e=new Map;function t(e){let t=new Map;return e(t),t}return e.set({id:"element-1",name:"tags",ru:"Теги",type:"default"},[]).set({id:"element-2",name:"contents",ru:"Оглавление",type:"default"},[{name:"smi",ru:"СМИ",type:"number",min:0,max:50,value:0},{name:"soc",ru:"Соцсети",type:"number",min:0,max:50,value:0},{name:"table",ru:"Таблица",type:"checkbox",value:!1}]).set({id:"element-3",name:"smi",ru:"СМИ",type:"table"},[{name:"table",ru:"Таблица",type:"checkbox",value:!1},{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"list_rows",ru:"Список строк",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"italic",ru:"Курсив",type:"checkbox",value:!1},{name:"underline",ru:"Подчеркнуть",type:"checkbox",value:!1},{name:"color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категория",type:"draggable",showResources:!1,selected:!1},[{name:"Государственные источники",selected:!0},{name:"Информационные агентства",selected:!0},{name:"Региональные источники",selected:!0},{name:"Электронные СМИ",selected:!0},{name:"Специализированные",selected:!0},{name:"Зарубежные источники",selected:!0},{name:"Государственные закупки",selected:!0},{name:"LiveJournal",selected:!0},{name:"Печатные СМИ",selected:!0},{name:"Телевидение",selected:!0},{name:"Радио",selected:!0},{name:"Агрегаторы СМИ",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]).set({id:"element-3",name:"soc",ru:"Социальные сети",type:"table"},[{name:"table",ru:"Таблица",type:"checkbox",value:!0},{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"list_rows",ru:"Список строк",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"resource",ru:"Источник",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"news_link",ru:"URL",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"sentiment",ru:"Оценка новостей",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]},{name:"category",ru:"Категория",selected:!0,showParams:!1,params:[{name:"bold",type:"checkbox",selected:!1},{name:"italic",type:"checkbox",selected:!1},{name:"underline",type:"checkbox",selected:!1},{name:"color",type:"color",value:"#000000"}]}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"italic",ru:"Курсив",type:"checkbox",value:!0},{name:"underline",ru:"Подчеркнуть",type:"checkbox",value:!0},{name:"color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категория",type:"draggable",showResources:!1,selected:!1},[{name:"Вконтакте",selected:!0},{name:"Facebook",selected:!0},{name:"Twitter",selected:!0},{name:"Instagram",selected:!0},{name:"LinkedIn",selected:!0},{name:"Youtube",selected:!0},{name:"Одноклассники",selected:!0},{name:"Мой_Мир",selected:!0},{name:"Telegram",selected:!0},{name:"TikTok",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]),(0,Bn.qj)((0,Bn.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function el(){const e=new Map;function t(e){let t=new Map;return e(t),t}return e.set({id:"element-1",name:"tags",ru:"Теги",type:"default"},[]).set({id:"element-2",name:"period",ru:"Период",type:"default"},[{name:"format",ru:"Формат",type:"select",outputIndex:!0,value:[{name:"День-Месяц-Год",index:0,selected:!0},{name:"День-Месяц-Год Час:Мин",index:1,selected:!1}]}]).set({id:"element-3",name:"count",ru:"Общее количество сообщений",type:"default"},[]).set({id:"element-4",name:"message_dynamic",ru:"Динамика сообщений",type:"default"},[]).set({id:"element-5",name:"sentiments",ru:"Тональность сообщений",type:"graph"},[{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0,labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-6",name:"distribution",ru:"Распределение по СМИ, Соцсети",type:"graph"},[{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0,labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-7",name:"smi_distribution",ru:"Распределение по категориям источников в СМИ",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:10},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-8",name:"soc_distribution",ru:"Распределение по соцсетям",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:10},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!0},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!1},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-9",name:"media_top",ru:"Самые активные источники в СМИ",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-10",name:"soc_top",ru:"Самые активные источники в Соцсетях",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-11",name:"most_popular_soc",ru:"Самые активные источники в соцсети",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-12",name:"top_negative",ru:"Топ негативных источников",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:20,value:20},{name:"type",ru:"Тип",type:"select",value:[...t((e=>{e.set({name:"pie",ru:"Пирог",type:"select",selected:!1},{data_labels:!1}),e.set({name:"bar",ru:"Бар",type:"select",selected:!0},{data_labels:!0,labels:!0}),e.set({name:"column",ru:"Столбец",type:"select",selected:!1},{data_labels:!0})}))]},{name:"number",ru:"Число",type:"checkbox",value:!1},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-13",name:"world_map",ru:"Активность источников по регионам",type:"map"},[{name:"length",ru:"Длина",type:"number",min:0,max:44,value:44},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-14",name:"kaz_map",ru:"Активность источников по РК",type:"map"},[{name:"length",ru:"Длина",type:"number",min:0,max:44,value:44},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-15",name:"smi_table",ru:"СМИ",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0},{name:"category",ru:"Категория",selected:!0},{name:"resource",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"datetime_format",ru:"Формат даты и времени",type:"select",outputIndex:!0,value:[{name:"День-Месяц-Год",index:0,selected:!0},{name:"День-Месяц-Год Час:Мин",index:1,selected:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",showResources:!1,selected:!1},[{name:"Государственные источники",selected:!0},{name:"Информационные агентства",selected:!0},{name:"Региональные источники",selected:!0},{name:"Электронные СМИ",selected:!0},{name:"Специализированные",selected:!0},{name:"Зарубежные источники",selected:!0},{name:"Государственные закупки",selected:!0},{name:"LiveJournal",selected:!0},{name:"Печатные СМИ",selected:!0},{name:"Телевидение",selected:!0},{name:"Радио",selected:!0},{name:"Агрегаторы СМИ",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]).set({id:"element-16",name:"soc_table",ru:"Социальные сети",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"date",ru:"Дата",selected:!0},{name:"resource",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#ffff00",show:!1}]},{name:"datetime_format",ru:"Формат даты и времени",type:"select",outputIndex:!0,value:[{name:"День-Месяц-Год",index:0,selected:!0},{name:"День-Месяц-Год Час:Мин",index:1,selected:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",showResources:!1,selected:!1},[{name:"Вконтакте",selected:!0},{name:"Facebook",selected:!0},{name:"Twitter",selected:!0},{name:"Instagram",selected:!0},{name:"LinkedIn",selected:!0},{name:"Youtube",selected:!0},{name:"Одноклассники",selected:!0},{name:"Мой_Мир",selected:!0},{name:"Telegram",selected:!0},{name:"TikTok",selected:!0}])}))]},{name:"text_length",selected:!0,min:70,max:500,type:"number",value:400}]),(0,Bn.qj)((0,Bn.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function tl(){const e=new Map;function t(e){let t=new Map;return e(t),t}return e.set({id:"element-1",name:"tags",ru:"Теги",type:"default"},[]).set({id:"element-2",name:"category",ru:"Категория",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:3},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-3",name:"sentiments",ru:"Тональность сообщений",type:"graph"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-4",name:"resources",ru:"Ресурсы",type:"graph"},[{name:"length",ru:"Длина",type:"number",min:3,max:10,value:5},{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-5",name:"dates",ru:"Даты",type:"graph"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!1}]).set({id:"element-6",name:"smi_table",ru:"СМИ",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"title",ru:"Заголовок",selected:!0},{name:"content",ru:"Краткое",selected:"default"},{name:"date",ru:"Дата",selected:!0},{name:"resource",ru:"Источник",selected:!0},{name:"resource_link",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка",selected:!0},{name:"category",ru:"Категория",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#dcdcdc",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",showResources:!0,selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",showResources:!1,selected:!1},[{name:"Государственные источники",selected:!0},{name:"Информационные агентства",selected:!0},{name:"Региональные источники",selected:!0},{name:"Электронные СМИ",selected:!0},{name:"Специализированные",selected:!0},{name:"Зарубежные источники",selected:!0},{name:"Государственные закупки",selected:!0},{name:"LiveJournal",selected:!0},{name:"Печатные СМИ",selected:!0},{name:"Телевидение",selected:!0},{name:"Радио",selected:!0},{name:"Агрегаторы СМИ",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]).set({id:"element-7",name:"soc_table",ru:"Социальные сети",type:"table"},[{name:"columns",ru:"Столбцы",type:"columns",value:[{name:"number",ru:"Число",selected:"hide"},{name:"content",ru:"Краткое содержание",selected:"default"},{name:"resource",ru:"Источник",selected:!0},{name:"date",ru:"Дата",selected:!0},{name:"category",ru:"Категория",selected:!0},{name:"resource_link",ru:"Источник",selected:!0},{name:"news_link",ru:"URL",selected:!0},{name:"sentiment",ru:"Оценка новостей",selected:!0}]},{name:"tag_highlight",ru:"Выделение тега",type:"dropdown",value:[{name:"bold",ru:"Жирность",type:"checkbox",value:!0},{name:"tag_color",ru:"Цвет текста",type:"color",value:"#000000",show:!1},{name:"back_color",ru:"Цвет фона",type:"color",value:"#dcdcdc",show:!1}]},{name:"order",ru:"Порядок",type:"dropdown",value:[...t((e=>{e.set({name:"date",ru:"Дата",selected:!1,type:"select",outputIndex:!0},[{name:"По убыванию",index:0,selected:!0},{name:"По возрастанию",index:1,selected:!1}])}))],draggables:[...t((e=>{e.set({name:"sentiments",ru:"Тональность",type:"draggable",selected:!0},[{name:"positive",ru:"Позитивные",selected:!0,defaultPosition:0},{name:"neutral",ru:"Нейтральные",selected:!0,defaultPosition:1},{name:"negative",ru:"Негативные",selected:!0,defaultPosition:2}]),e.set({name:"categories",ru:"Категории",type:"draggable",selected:!1},[{name:"Вконтакте",selected:!0},{name:"Facebook",selected:!0},{name:"Twitter",selected:!0},{name:"Instagram",selected:!0},{name:"LinkedIn",selected:!0},{name:"Youtube",selected:!0},{name:"Одноклассники",selected:!0},{name:"Мой_Мир",selected:!0},{name:"Telegram",selected:!0},{name:"TikTok",selected:!0}])}))]},{name:"text_length",ru:"Количество символов",selected:!0,min:70,max:500,type:"number",value:400}]),(0,Bn.qj)((0,Bn.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function nl(){const e=new Map;return e.set({id:"element-1",name:"presentation",ru:"Презентация",type:"project"},[]).set({id:"element-2",name:"distribution",ru:"Распределение",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-3",name:"activity_1",ru:"Активность 1",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-4",name:"activity_2",ru:"Активность 2",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]).set({id:"element-5",name:"activity_3",ru:"Активность 3",type:"project"},[{name:"number",ru:"Число",type:"checkbox",value:!0},{name:"percent",ru:"Процент",type:"checkbox",value:!0}]),(0,Bn.qj)((0,Bn.iH)(Object.entries([...e.entries()]).map((e=>e[1]))))}function ll(){const e={word:Xn(),pdf:el(),excel:tl(),powerpoint:nl()};return e}function al(){function e(e,t,n=!0){console.log(e);let l=document.querySelector("#"+e);l.getAttribute("data-name")==t&&(n?l.classList.add("gray"):l.classList.remove("gray"))}function t(t,n,l,a,o){let s=new Promise((function(e,t){const s=JSON.parse(JSON.stringify(n));let c=s.find((e=>e[0].name==l)),r=document.querySelectorAll(".acc2__title span"),i=!1;if(0!==r.length)for(const n of r)n.getAttribute("data-name")!=l||a||(i=!0);i?t(`${l} уже добавлен!`):(a&&(c[0].id+=o,console.log(c[0].id)),e(c))}));s.then((n=>{t.push(n);let l=t.find((e=>e[0].name==n[0].name))[0].name;"GROUP"===n[0].name||a||e(n[0].id,l)})).catch((e=>{console.error(e)}))}function n(t,n,l,a){for(const o of t){let s=t;"GROUP"==o[0].name&&o[1].elements&&(s=o[1].elements);let c=s.find((e=>e[0].id==l));if(c&&c[0].id){const t=s.findIndex((e=>e[0].id==l));if(-1!=t)return s.splice(t,1),void(a||e(c[0].id,n,!1))}}}return{addElement:t,removeElement:n}}function ol(){function e(e=!0){let t=document.querySelector(".add-group");e?t.classList.add("gray"):t.classList.remove("gray")}function t(t){let n=t.filter((e=>"GROUP"==e[0].name)).length;const l=4,a=t.filter((e=>"graph"==e[0].type)).length;n<l&&a>0?(t.push([{id:`group-${n+1}`,name:"GROUP",error:"Должно быть два элемента."},{elements:[]}]),n++):0===a&&alert("Добавьте график."),n===l&&e(!0)}function n(t,n){const l=t.find((e=>e[0].id==n)),a=t.findIndex((e=>e[0].id==n)),o=l[1].elements;t.splice(a,1,...o),e(!1)}return{addGroup:t,removeGroup:n}}function sl(){function e(e){let t=e.filter((e=>"GROUP"==e[0].name)).length,n=e.find((e=>0==e[1].elements?.length));n?document.querySelector(`.group-${t}`).querySelector(".absolute").classList.toggle("hidden"):(e.push([{id:`group-${t+1}`,name:"GROUP",projectId:"",projectName:"",error:"Не менее одного элемента в проекте."},{elements:[]}]),t++)}function t(e,t){const n=e.find((e=>e[0].id==t)),l=e.findIndex((e=>e[0].id==t)),a=n[1].elements;e.splice(l,1,...a)}return{addProject:e,removeProject:t}}var cl={name:"App",components:{ContentConstructs:on,ContentSidebar:Zn},data(){return{}},setup(){let e=(0,Bn.qj)((0,Bn.iH)(!1)),t=(0,Bn.qj)((0,Bn.iH)({word:[],pdf:[],excel:[],powerpoint:[]})),n=Qn(),l=(0,Bn.qj)((0,Bn.iH)({content:!0,full_page_title:!0,merge_cells:!1}));function o(){return function(){e.value=!e.value}}function s(e,t){l.value[e]=t}function c(){return JSON.parse(JSON.stringify(ll()[r()].value))}function r(){return n.format.value.options.find((e=>e.selected))?.value}function i(){return n.orientation.value.options.find((e=>e.selected))?.value}function u(){return n.menu.value.options.find((e=>e.selected))?.value}function d(e,t){n[e].value.options.forEach((e=>{e.selected=e.name==t}))}let{addElement:m,removeElement:p}=al(),{addGroup:h,removeGroup:y}=ol(),{addProject:f,removeProject:g}=sl();return(0,a.JJ)("report_copy",t),(0,a.JJ)("selectedFormat",r),(0,a.JJ)("selectedOrientation",i),(0,a.JJ)("selectedMenu",u),(0,a.JJ)("checkbox",l),(0,a.JJ)("updateCheckbox",s),(0,a.JJ)("addElement",m),(0,a.JJ)("addGroup",h),(0,a.JJ)("addProject",f),(0,a.JJ)("removeElement",p),(0,a.JJ)("removeGroup",y),(0,a.JJ)("removeProject",g),(0,a.JJ)("format",n.format),(0,a.JJ)("orientation",n.orientation),(0,a.JJ)("menu",n.menu),(0,a.JJ)("selectOption",d),(0,a.JJ)("loading",e),(0,a.JJ)("toggleLoading",o),{switchFormat:c,report_copy:t,selectOption:d,selectedFormat:r,updateCheckbox:s}},methods:{getRequest(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/.*\?/,"").split("&");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}return e},getJSON(e){let t=e.split("\\").join("").slice(2,-5),n=[],l=!1,a=0,o=0,s=0,c={},r={},i="",u="",d="";for(let m=0;m<t.length;m++){const e=t[m];switch(e){case"{":a++;break;case"}":a--,o>0?(c[d].push(r),r={}):s>0?(s=0,l=!1):0==o&&0==s&&0==a&&(n.push(c),c={});break;case")":o>0&&"}"==t[m-1]&&(o=0);break;case":":if("("==t[m+2]&&"{"==t[m+3]){o++;let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}d=this.reverseArr(i),c[d]=[],i="",u=""}else if("{"==t[m+1]){s++;let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}d=this.reverseArr(i),"order"==d&&(l=!0,console.log("openingKeyOrder = true;")),c[d]={},i="",u=""}else if(o>0){let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}let n=m;while(n<t.length){const e=t[n+2];'"'!=e?(u+=e,n++):n=t.length}r[this.reverseArr(i)]=this.parseValue(u),i="",u=""}else if(s>0){let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}let n=m;while(n<t.length){const e=t[n+2];'"'!=e?(u+=e,n++):n=t.length}if(-1!=u.indexOf("(")){console.log("what"),u="";let e=m;while(e<t.length){const n=t[e+2];")"!=n?(u+=n,e++):(u+=n,e=t.length)}if(l&&"("==u[0]&&")"==u[u.length-1])if("sentiments"==this.reverseArr(i)){let e=u.slice(1,-1).split(","),t=[];for(let n=0;n<e.length;n++){const l=e[n];t.push(parseInt(l))}u=t}else u=u.slice(2,-2).split('"').join("").split(",")}c[d][this.reverseArr(i)]=this.parseValue(u),i="",u=""}else{let e=m;while(e>=0){const n=t[e-2];'"'!=n?(i+=n,e--):e=-1}let n=m;while(n<t.length){const e=t[n+2];'"'!=e?(u+=e,n++):n=t.length}c[this.reverseArr(i)]=this.parseValue(u),i="",u=""}break;default:break}}return console.log("jsonArr",n),n},parseValue(e){return"false"!=e&&("true"==e||(Number(e)+""!="NaN"?Number(e):e))},reverseArr(e){let t="";for(let n=e.length-1;n>=0;n--){const l=e[n];t+=l}return t},switchLang(e){switch(e){case"ru":return"rus";case"en":return"eng";case"kz":return"kaz"}},getRequestLang(){var e={};if(window.location.href.match(/.*\?.*/)){let l=window.location.href.replace(/\?.*/,"").split("//").join("").split("/");for(var t=0;t<l.length;t++){var n=l[t].split("=");e[n[0]]=n[1]}}let l=Object.keys(e)[1];return this.switchLang(l)},createElement(e,t){for(let n=0;n<this.switchFormat().length;n++){const l=this.switchFormat()[n];if(l[0].name==t.id){let n=JSON.parse(JSON.stringify(l));if(n[1]){let e=Object.keys(t),l=n[1];l.forEach((n=>{let l=n.type;e.forEach((e=>{if("checkbox"!=l&&"number"!=l||e!=n.name)if("select"==l&&"type"==n.name&&e==n.name)n.value.forEach((n=>{n[0].selected=n[0].name==t[e],Object.keys(n[1]).forEach((e=>{n[1].valueName=t[e]}))}));else if("select"==l&&n.outputIndex&&e==n.name)n.value.forEach((n=>{n.selected=n.index==t[e]}));else if("columns"==l&&e==n.name){let l=[...n.value],a=t[e],o=[];a.forEach((e=>{l.forEach((t=>{t.name==e.id&&o.push(t)}))})),n.value=o,n.value.forEach(((n,l)=>{"number"!=n.name&&"content"!=n.name&&(n.selected=0!=t[e][l].position,n.params&&(console.log(n.params),n.params.forEach((n=>{let a="checkbox"==n.type?"selected":"value";n[a],t[e][l][n.name]}))))}))}else"dropdown"!=l&&"tag_highlight"!=n.name||e!=n.name?"dropdown"!=l&&"order"!=n.name||e!=n.name||(n.value.forEach((n=>{n[1].forEach((l=>{l.selected=l.index==t[e][n[0].name]}))})),n.draggables.forEach((n=>{let l=[...n[1]],a=t[e][n[0].name],o=[];a.forEach((e=>{l.forEach((t=>{t.name==e||(t.selected=!1),o.push(t)}))})),n[1]=o,n[1].forEach((l=>{let a=t[e][n[0].name];a.forEach((e=>{l.selected=l.name==e}))}))}))):n.value.forEach((n=>{n.value=t[e][n.name]}));else"text_length"==n.name&&(n.selected=0!=t[e]),n.value=t[e]}))}))}e.push(n)}}}},mounted(){let e=this.getRequest();null!=e.constructorId&&Mn().get(`https://cabinet322.imas.kz/ru/reports/getreport?id=${e.constructorId}&token=${e.token}`).then((t=>{let n=t.data.projects[0].json,l=t.data.projects[0].format;const a={word:"WORD",pdf:"PDF",excel:"Excel",powerpoint:"PowerPoint"};this.selectOption("format",a[l]),console.log("_json",n);let o=this.getJSON(n);console.log(o),console.log(this.switchFormat());for(let s=0;s<o.length;s++){let t=o[s];if("template_settings"==t.id){t.user_id=e.user_id,t.an_id=e.an_id,t.location=e.location,t.s_date=e.s_date,t.f_date=e.f_date,t.s_time=e.s_time,t.f_time=e.f_time,t.sCountry_id=e.sCountry_id,t.iCategory_id=e.iCategory_id,t.sResource_id=e.sResource_id,t.metrics=e.metrics,t.order=e.order,t.sSentiment=e.sSentiment,t.sLanguage_id=e.sLanguage_id,t.message_type=e.message_type,t.place=e.place,t.place_id=e.place_id,t.token=e.token,t.format=t.format.split("_")[0]+"_"+this.getRequestLang();const n={portrait:"Портрет",landscape:"Пейзаж"};this.selectOption("orientation",n[t.orientation]),this.selectOption("menu","Проект"),this.updateCheckbox("content",t.content),this.updateCheckbox("full_page_title",t.full_page_title),this.updateCheckbox("merge_cells",t.merge_cells)}else if("powerpoint"==l){this.report_copy[this.selectedFormat()].push([{id:`group-${t.position}`,name:"GROUP",projectId:t.projectId,projectName:t.projectName,error:"Не менее одного элемента в проекте."},{elements:[]}]);let e=this.report_copy[this.selectedFormat()][s][1].elements;t.elements.forEach((t=>{this.createElement(e,t)}))}else this.createElement(this.report_copy[this.selectedFormat()],t)}console.log(this.report_copy[this.selectedFormat()])}))}};const rl=(0,W.Z)(cl,[["render",c]]);var il=rl;const ul=(0,l.ri)(il);ul.mount("#app")}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,o){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],o=e[u][2];for(var c=!0,r=0;r<l.length;r++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](l[r])}))?l.splice(r--,1):(c=!1,o<s&&(s=o));if(c){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,o,s=l[0],c=l[1],r=l[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(r)var u=r(n)}for(t&&t(l);i<s.length;i++)o=s[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},l=self["webpackChunkreport_constructor"]=self["webpackChunkreport_constructor"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(8733)}));l=n.O(l)})();
//# sourceMappingURL=app.2c97e53d.js.map